\hypertarget{user__commands_8h}{\section{includes/user\-\_\-commands.h File Reference}
\label{user__commands_8h}\index{includes/user\-\_\-commands.\-h@{includes/user\-\_\-commands.\-h}}
}


Declaraciones de funciones, definición de tipos\-: implementación de funciones I\-R\-C de usuario.  


{\ttfamily \#include $<$redes2/ircxchat.\-h$>$}\\*
{\ttfamily \#include $<$redes2/irc.\-h$>$}\\*
{\ttfamily \#include $<$pthread.\-h$>$}\\*
{\ttfamily \#include \char`\"{}conexion\-\_\-tcp.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}aux\-\_\-functions.\-h\char`\"{}}\\*
Include dependency graph for user\-\_\-commands.\-h\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{user__commands_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int($\ast$ \hyperlink{user__commands_8h_aa28997a055736f12ce4f2db646ef7749}{p\-\_\-funcion} )(char $\ast$)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{user__commands_8h_a4dd6e13bec86782e1c29bc67c6040b95}{punotice} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario N\-O\-T\-I\-C\-E Send a notice to a user, channel or server.
\begin{DoxyItemize}
\item N\-O\-T\-I\-C\-E $<$nick$>$ $<$text$>$ Send a notice to a user. Ex\-: /\-N\-O\-T\-I\-C\-E Blah hi, how are you?
\item N\-O\-T\-I\-C\-E $<$\#channel$>$ $<$text$>$ Send a notice to a channel. Ex\-: /\-N\-O\-T\-I\-C\-E \#room Hi all, this is annoying. 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a365e633f087eadb08ef23ec8d20abaf6}{pucycle} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario C\-Y\-C\-L\-E Cycles the given channel(s). This command is equivilent to sending a P\-A\-R\-T then a J\-O\-I\-N command.
\begin{DoxyItemize}
\item Syntax\-: C\-Y\-C\-L\-E $<$chan1$>$,$<$chan2$>$,$<$chan3$>$ ... 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a4d9661d482929bb458b85e70c6170d74}{pumotd} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario M\-O\-T\-D Displays the Message Of The Day of the I\-R\-C Server you are logged onto.
\begin{DoxyItemize}
\item Syntax\-: M\-O\-T\-D M\-O\-T\-D $<$server$>$ 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a8e0f94275dfaa1e7bc564d3555b9402e}{pulusers} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario L\-U\-S\-E\-R\-S Provides Local and Global user information (Such as Current and Maximum user count).
\begin{DoxyItemize}
\item Syntax\-: L\-U\-S\-E\-R\-S \mbox{[}server\mbox{]}. 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a448b3ec98632740523ee7a20c5bc81dd}{pumode} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_a1af5de7d9cb449f78a7f511d28c64ba9}{pupartall} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_ae822b5550f387a177b98ec2c98e26b2d}{puback} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_a8a3e6d36d02bc24a451f806de272c691}{puunaway} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_ab51cd004b9746694fb19829952779c6b}{puoper} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_a8b10f809b49ed8686a693efc87f144e5}{puban} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_a546e9e7086ec6347e0d3dffef5f11694}{pufsend} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_aea754f971df97746d113aaedc41c8cbf}{pufaccept} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_a79c4db4db149aa147f4b508b999febe2}{pufclose} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_a0a15138d8927dd543805edcc035b8132}{putopic} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_ac7817f0890faebb4fb8f13cc6ee5c838}{pukick} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_a856ef0800c85e0f20fad89ff8070b3f9}{puinvite} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario I\-N\-V\-I\-T\-E Sends a user an Invitation to join a particular channel. If the channel is +i, you must be an Operator to use this command, otherwise any user may use the command. Invite without parameters lists the channels you have been invited to.
\begin{DoxyItemize}
\item Syntax\-: I\-N\-V\-I\-T\-E $<$user$>$ $<$channel$>$ 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a08bd5900f288bfb5712d3f5ca6e624b6}{puwhois} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario W\-H\-O\-I\-S Shows information about the user in question, such as their \char`\"{}\-Name\char`\"{}, channels they are currently in, their hostmask, etc.
\begin{DoxyItemize}
\item Syntax\-: W\-H\-O\-I\-S $<$user$>$ 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a84e1c4ef3c7307f98a3d2267ae0ce121}{puaway} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario A\-W\-A\-Y. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a93cab9103f7f4815ff20b47dcf0c117c}{punick} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario N\-I\-C\-K Changes your \char`\"{}\-Online Identity\char`\"{} on a server. All those in the channel you are in will be alerted of your nickname change.
\begin{DoxyItemize}
\item Syntax\-: N\-I\-C\-K $<$new nickname$>$=\char`\"{}\char`\"{}$>$ 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_ad738a7d361fe18d7774bab370a4454a8}{puquit} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario Q\-U\-I\-T En principio solo se llama con\-: \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a2d0a8c0565fc24fdd54dc68de05e6474}{puleave} (char $\ast$command)
\item 
int \hyperlink{user__commands_8h_adc5c5d5b72106761066833022c9bc83d}{pupart} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario P\-A\-R\-T Used to part (or leave) a channel you currently occupy. All those in the channel will be notified of your departure. If you specify a reason it will be displayed to the users on the channel
\begin{DoxyItemize}
\item Syntax\-: P\-A\-R\-T $<$chan$>$,$<$chan2$>$,$<$chan3$>$,$<$chan4$>$ $<$reason$>$ 
\end{DoxyItemize}\end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_add059d444d6e29f6e18f67bda6c21878}{pujoin} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario J\-O\-I\-N. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_aef4e57bf112f9c4a2d51b1a314df0b63}{puwho} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario W\-H\-O. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_abaae116595df34db33e65e3d9d225103}{punames} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario N\-A\-M\-E\-S. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a322cdf0baafadcd1784ab6c8f6d48f04}{pumsg} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario M\-S\-G y P\-R\-I\-V\-M\-S\-G. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a2da90a4a7474a7a220ab1588dedd7ef4}{pulist} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario L\-I\-S\-T. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a9b25b9a254568a07285fc068e01d9919}{puhelp} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario H\-E\-L\-P. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a05216fb56a43c8fa44b5bc726692b064}{pdefault} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando desconocido para el cliente. \end{DoxyCompactList}\item 
int \hyperlink{user__commands_8h_a8149f7beb37fd789f142acb2113efd1c}{puquery} (char $\ast$command)
\begin{DoxyCompactList}\small\item\em Comando de usuario Q\-U\-E\-R\-Y Use the \char`\"{}/query $<$user$>$\char`\"{} command to specify that every message you type should be directed to a single user. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{user__commands_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\-\_\-user}
\item 
char \hyperlink{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}{nick\-\_\-user} \mbox{[}\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{M\-A\-X\-D\-A\-T\-A}\mbox{]}
\item 
pthread\-\_\-t \hyperlink{user__commands_8h_ab5efd1efa144e252f4c5312ae57bea2e}{recv\-\_\-tid}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Declaraciones de funciones, definición de tipos\-: implementación de funciones I\-R\-C de usuario. \begin{DoxyAuthor}{Author}
Alfonso Sebares 

Beatriz de Pablo 

Celia Mateos 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
20/03/17 
\end{DoxyDate}


\subsection{Typedef Documentation}
\hypertarget{user__commands_8h_aa28997a055736f12ce4f2db646ef7749}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!p\-\_\-funcion@{p\-\_\-funcion}}
\index{p\-\_\-funcion@{p\-\_\-funcion}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{p\-\_\-funcion}]{\setlength{\rightskip}{0pt plus 5cm}typedef int($\ast$ p\-\_\-funcion)(char $\ast$)}}\label{user__commands_8h_aa28997a055736f12ce4f2db646ef7749}
definicion del tipo de puntero a array de funciones 

\subsection{Function Documentation}
\hypertarget{user__commands_8h_a05216fb56a43c8fa44b5bc726692b064}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pdefault@{pdefault}}
\index{pdefault@{pdefault}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pdefault}]{\setlength{\rightskip}{0pt plus 5cm}int pdefault (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a05216fb56a43c8fa44b5bc726692b064}


Comando desconocido para el cliente. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
369                            \{ 
370         IRCInterface\_WriteSystem(\hyperlink{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}{nick\_user}, \textcolor{stringliteral}{"No se ha podido ejecutar el comando: "});
371         IRCInterface\_WriteSystem(\hyperlink{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}{nick\_user}, command);
372         \textcolor{keywordflow}{return} 0;
373 \}
\end{DoxyCode}
\hypertarget{user__commands_8h_a84e1c4ef3c7307f98a3d2267ae0ce121}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puaway@{puaway}}
\index{puaway@{puaway}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puaway}]{\setlength{\rightskip}{0pt plus 5cm}int puaway (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a84e1c4ef3c7307f98a3d2267ae0ce121}


Comando de usuario A\-W\-A\-Y. 

Sets your online status to \char`\"{}\-Away\char`\"{}.
\begin{DoxyItemize}
\item Syntax\-: A\-W\-A\-Y $<$reason$>$ (Sets you Away with the reason given) A\-W\-A\-Y (Un-\/\-Sets you as Away) Example\-: A\-W\-A\-Y Lunch time! 
\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\end{DoxyItemize}
\begin{DoxyCode}
410                          \{
411         \textcolor{keywordtype}{char}* command\_enviar;
412         \textcolor{keywordtype}{char} *reason;
413         \textcolor{keywordtype}{int} free\_f = 0;
414 
415         IRCUserParse\_Away (command, &reason);
416         \textcolor{comment}{/*}
417 \textcolor{comment}{        if(reason == NULL || strlen(reason) == 0)\{}
418 \textcolor{comment}{                reason = "afk";}
419 \textcolor{comment}{                free\_f = 1;}
420 \textcolor{comment}{        \}*/}
421 
422         IRCMsg\_Away (&command\_enviar, NULL, reason);
423         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar command\_enviar en AWAY: %s \(\backslash\)n"},command\_enviar);
424 
425         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
426         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
427         
428         \textcolor{keywordflow}{if}(free\_f)
429                 \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(1, command\_enviar);
430         \textcolor{keywordflow}{else}
431                 \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(2, command\_enviar, reason);
432         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
433 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a84e1c4ef3c7307f98a3d2267ae0ce121_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_ae822b5550f387a177b98ec2c98e26b2d}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puback@{puback}}
\index{puback@{puback}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puback}]{\setlength{\rightskip}{0pt plus 5cm}int puback (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_ae822b5550f387a177b98ec2c98e26b2d}

\begin{DoxyCode}
29 \{ \textcolor{keywordflow}{return} -1; \}
\end{DoxyCode}
\hypertarget{user__commands_8h_a8b10f809b49ed8686a693efc87f144e5}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puban@{puban}}
\index{puban@{puban}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puban}]{\setlength{\rightskip}{0pt plus 5cm}int puban (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a8b10f809b49ed8686a693efc87f144e5}

\begin{DoxyCode}
32 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{// ya se envia con los botones}
\end{DoxyCode}
\hypertarget{user__commands_8h_a365e633f087eadb08ef23ec8d20abaf6}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pucycle@{pucycle}}
\index{pucycle@{pucycle}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pucycle}]{\setlength{\rightskip}{0pt plus 5cm}int pucycle (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a365e633f087eadb08ef23ec8d20abaf6}


Comando de usuario C\-Y\-C\-L\-E Cycles the given channel(s). This command is equivilent to sending a P\-A\-R\-T then a J\-O\-I\-N command.
\begin{DoxyItemize}
\item Syntax\-: C\-Y\-C\-L\-E $<$chan1$>$,$<$chan2$>$,$<$chan3$>$ ... 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
632                           \{
633 
634         \textcolor{keywordtype}{char}* respuesta = NULL;
635     \textcolor{keywordtype}{char}** target;
636     \textcolor{keywordtype}{int} numchannels=0;
637     \textcolor{keywordtype}{int} i ;
638 
639     IRCUserParse\_Cycle (command, &target, &numchannels);
640     \textcolor{keywordflow}{for} (i = 0; i< numchannels; i++)\{
641         IRCMsg\_Part (&respuesta, NULL, target[i], \textcolor{stringliteral}{"Saliendo"});
642                 \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, respuesta, strlen(respuesta));
643         IRCInterface\_PlaneRegisterOutMessage (respuesta);
644         free(respuesta);
645         IRCMsg\_Join(&respuesta, NULL, target[i], NULL, NULL);
646                 \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, respuesta, strlen(respuesta));
647         IRCInterface\_PlaneRegisterOutMessage (respuesta);
648         free(respuesta);
649     \}
650 
651     \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};   
652 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a365e633f087eadb08ef23ec8d20abaf6_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_aea754f971df97746d113aaedc41c8cbf}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pufaccept@{pufaccept}}
\index{pufaccept@{pufaccept}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pufaccept}]{\setlength{\rightskip}{0pt plus 5cm}int pufaccept (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_aea754f971df97746d113aaedc41c8cbf}

\begin{DoxyCode}
34 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{//se envia con los ficheros}
\end{DoxyCode}
\hypertarget{user__commands_8h_a79c4db4db149aa147f4b508b999febe2}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pufclose@{pufclose}}
\index{pufclose@{pufclose}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pufclose}]{\setlength{\rightskip}{0pt plus 5cm}int pufclose (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a79c4db4db149aa147f4b508b999febe2}

\begin{DoxyCode}
35 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{//se envia con los ficheros}
\end{DoxyCode}
\hypertarget{user__commands_8h_a546e9e7086ec6347e0d3dffef5f11694}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pufsend@{pufsend}}
\index{pufsend@{pufsend}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pufsend}]{\setlength{\rightskip}{0pt plus 5cm}int pufsend (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a546e9e7086ec6347e0d3dffef5f11694}

\begin{DoxyCode}
33 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{//se envia con los ficheros}
\end{DoxyCode}
\hypertarget{user__commands_8h_a9b25b9a254568a07285fc068e01d9919}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puhelp@{puhelp}}
\index{puhelp@{puhelp}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puhelp}]{\setlength{\rightskip}{0pt plus 5cm}int puhelp (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a9b25b9a254568a07285fc068e01d9919}


Comando de usuario H\-E\-L\-P. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
351                          \{
352         \textcolor{keywordtype}{char}* comando;
353         \textcolor{keywordtype}{char} command\_enviar[\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}];
354 
355         IRCUserParse\_Help (command, &comando);
356         sprintf(command\_enviar, \textcolor{stringliteral}{"HELP %s\(\backslash\)r\(\backslash\)n"}, comando?comando:\textcolor{stringliteral}{""});
357         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar)); 
358         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
359         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(1, comando);
360         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
361 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a9b25b9a254568a07285fc068e01d9919_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a856ef0800c85e0f20fad89ff8070b3f9}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puinvite@{puinvite}}
\index{puinvite@{puinvite}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puinvite}]{\setlength{\rightskip}{0pt plus 5cm}int puinvite (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a856ef0800c85e0f20fad89ff8070b3f9}


Comando de usuario I\-N\-V\-I\-T\-E Sends a user an Invitation to join a particular channel. If the channel is +i, you must be an Operator to use this command, otherwise any user may use the command. Invite without parameters lists the channels you have been invited to.
\begin{DoxyItemize}
\item Syntax\-: I\-N\-V\-I\-T\-E $<$user$>$ $<$channel$>$ 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
470                            \{
471 
472         \textcolor{keywordtype}{char}* command\_enviar = NULL, *prefix = NULL, *nick = NULL, *channel = NULL;
473 
474         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje reciido en UINVITE: %s \(\backslash\)n"},command);
475 
476         IRCParse\_Invite (command, &prefix, &nick, &channel); \textcolor{comment}{//la parseo con esta funcion del server porque
       no hay del user}
477         g\_print(\textcolor{stringliteral}{"\(\backslash\)t prefix: %s \(\backslash\)n"},prefix);
478         g\_print(\textcolor{stringliteral}{"\(\backslash\)t nick: %s \(\backslash\)n"},nick);
479         g\_print(\textcolor{stringliteral}{"\(\backslash\)t channel: %s \(\backslash\)n"},channel);
480 
481         IRCMsg\_Invite (&command\_enviar, prefix, nick, channel);
482         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar en UINVITE: %s \(\backslash\)n"}, command\_enviar);
483 
484         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
485         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
486         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(4, command\_enviar, channel, nick, prefix);
487         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
488 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a856ef0800c85e0f20fad89ff8070b3f9_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_add059d444d6e29f6e18f67bda6c21878}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pujoin@{pujoin}}
\index{pujoin@{pujoin}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pujoin}]{\setlength{\rightskip}{0pt plus 5cm}int pujoin (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_add059d444d6e29f6e18f67bda6c21878}


Comando de usuario J\-O\-I\-N. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
131                          \{ 
132 
133         \textcolor{keywordtype}{long} ret = -1;
134         \textcolor{keywordtype}{int} retorno = -1;
135 
136         \textcolor{keywordtype}{char}* key = NULL;
137         \textcolor{keywordtype}{char}* msg = NULL;
138         \textcolor{keywordtype}{char}* channels = NULL;
139         \textcolor{keywordtype}{char}* passwords = NULL;
140         \textcolor{keywordtype}{char}* command\_enviar = NULL;
141         \textcolor{keywordtype}{char}* prefix = NULL;
142         \textcolor{keywordtype}{char} canales\_y\_passwords [\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}] = \{0\};
143 
144         g\_print(\hyperlink{types_8h_af54a5a977c0c499323d656315f008ee0}{MAG} \textcolor{stringliteral}{"\(\backslash\)n<< [user command] UJOIN - command = %s\(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET}, command);
145 
146         ret = IRCUserParse\_Join(command, &channels, &passwords);
147         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
148                 g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In pujoin: IRCUserParse\_Join no devolvio IRC\_OK\(\backslash\)n"} 
      \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
149                 \textcolor{keywordflow}{return} -1;
150         \}
151         g\_print(\textcolor{stringliteral}{"\(\backslash\)t command: %s \(\backslash\)n"},command);
152         g\_print(\textcolor{stringliteral}{"\(\backslash\)t channels : %s \(\backslash\)n"},channels);
153         g\_print(\textcolor{stringliteral}{"\(\backslash\)t passwords : %s \(\backslash\)n"},passwords);
154 
155         sprintf(canales\_y\_passwords,\textcolor{stringliteral}{"%s %s"},channels,passwords?passwords:\textcolor{stringliteral}{""});
156 
157         \textcolor{comment}{//enviar varios canales}
158         ret = IRCMsg\_Join (&command\_enviar, prefix, canales\_y\_passwords, key, msg);
159         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
160                 g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In pujoin: IRCMsg\_Join no devolvio IRC\_OK\(\backslash\)n"} 
      \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
161                 \textcolor{keywordflow}{return} -1;
162         \}
163         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar command\_enviar: %s \(\backslash\)n"},command\_enviar);
164         
165         retorno = \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user},command\_enviar, strlen(command\_enviar));
166         \textcolor{keywordflow}{if}(retorno < 0)\{
167                 g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In pujoin: enviarDatos() devolvio error (ver secuencia en .log)\(\backslash\)n\(\backslash\)t
      \(\backslash\)tEl cliente se cerrará.\(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
168                 exit(1);
169         \}
170         \textcolor{keywordflow}{if}(retorno == 0)\{ \textcolor{comment}{//timeout }
171                 g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In pujoin: enviarDatos() envió 0 Bytes(ver secuencia en .log)\(\backslash\)n\(\backslash\)t\(\backslash\)t
      (Timeout de conexión probablemente)\(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
172                 exit(1);
173         \}
174 
175         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);   
176         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(6, command\_enviar, channels, passwords, prefix, key, msg);
177         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK}; 
178 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_add059d444d6e29f6e18f67bda6c21878_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_ac7817f0890faebb4fb8f13cc6ee5c838}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pukick@{pukick}}
\index{pukick@{pukick}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pukick}]{\setlength{\rightskip}{0pt plus 5cm}int pukick (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_ac7817f0890faebb4fb8f13cc6ee5c838}

\begin{DoxyCode}
37 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{//se envia con los botones}
\end{DoxyCode}
\hypertarget{user__commands_8h_a2d0a8c0565fc24fdd54dc68de05e6474}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puleave@{puleave}}
\index{puleave@{puleave}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puleave}]{\setlength{\rightskip}{0pt plus 5cm}int puleave (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a2d0a8c0565fc24fdd54dc68de05e6474}

\begin{DoxyCode}
38 \{ \textcolor{keywordflow}{return} -1; \}
\end{DoxyCode}
\hypertarget{user__commands_8h_a2da90a4a7474a7a220ab1588dedd7ef4}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pulist@{pulist}}
\index{pulist@{pulist}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pulist}]{\setlength{\rightskip}{0pt plus 5cm}int pulist (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a2da90a4a7474a7a220ab1588dedd7ef4}


Comando de usuario L\-I\-S\-T. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
309                          \{ 
310         \textcolor{keywordtype}{long} ret = -1;
311         \textcolor{keywordtype}{int} retorno = -1;
312         \textcolor{keywordtype}{char} *channel = NULL;
313         \textcolor{keywordtype}{char} *searchstring = NULL;
314         \textcolor{keywordtype}{char}* command\_enviar=NULL;
315         \textcolor{keywordtype}{char}* prefix = NULL;
316 
317         ret = IRCUserParse\_List (command, &channel, &searchstring);
318         g\_print(\textcolor{stringliteral}{"\(\backslash\)t command: %s \(\backslash\)n"}, command);
319         g\_print(\textcolor{stringliteral}{"\(\backslash\)t channel: %s \(\backslash\)n"}, channel);
320         g\_print(\textcolor{stringliteral}{"\(\backslash\)t searchstring: %s \(\backslash\)n"}, searchstring);
321         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
322                 g\_print(\textcolor{stringliteral}{"ERROR - pulist - IRCUserParse\_List \(\backslash\)n"});
323                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
324         \}
325 
326         ret = IRCMsg\_List (&command\_enviar, prefix, channel, searchstring);
327         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
328                 g\_print(\textcolor{stringliteral}{"ERROR - pulist - IRCMsg\_List \(\backslash\)n"});
329                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
330         \}
331 
332         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar command\_enviar: %s \(\backslash\)n"},command\_enviar);
333         \textcolor{comment}{//sem\_wait(&recepcionTCP);}
334         retorno = \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user},command\_enviar, strlen(command\_enviar));
335         \textcolor{keywordflow}{if}(retorno == \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR})\{
336                 g\_print(\textcolor{stringliteral}{"ERROR: IRCInterface\_NewCommandText - enviarDatos - list\(\backslash\)n"});
337                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
338         \}
339 
340         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
341         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(4, command\_enviar, channel, searchstring, prefix);
342         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
343 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a2da90a4a7474a7a220ab1588dedd7ef4_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a8e0f94275dfaa1e7bc564d3555b9402e}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pulusers@{pulusers}}
\index{pulusers@{pulusers}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pulusers}]{\setlength{\rightskip}{0pt plus 5cm}int pulusers (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a8e0f94275dfaa1e7bc564d3555b9402e}


Comando de usuario L\-U\-S\-E\-R\-S Provides Local and Global user information (Such as Current and Maximum user count).
\begin{DoxyItemize}
\item Syntax\-: L\-U\-S\-E\-R\-S \mbox{[}server\mbox{]}. 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
531                            \{
532 
533         \textcolor{keywordtype}{char} command\_enviar[\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}];
534         \textcolor{keywordtype}{char}* server;
535         \textcolor{keywordtype}{char} lusers[200];
536 
537         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje recibido en ULUSERS: %s \(\backslash\)n"}, command);
538         IRCUserParse\_Lusers (command, &server);
539 
540         g\_print(\textcolor{stringliteral}{"\(\backslash\)t server: %s \(\backslash\)n"}, server);
541         sprintf(command\_enviar, \textcolor{stringliteral}{"LUSERS %s\(\backslash\)n\(\backslash\)r"}, server );
542         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar en ULUSERS: %s \(\backslash\)n"}, command\_enviar);
543 
544         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
545         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
546 
547         strcpy(lusers,\textcolor{stringliteral}{"LUSERS "});
548         strcat(lusers, server);
549         \hyperlink{aux__functions_8h_a040868784608606fad914fea56fc65b8}{IRCInterface\_WriteSystem\_Pretty}(\textcolor{stringliteral}{"*"}, \textcolor{stringliteral}{"------------------------------
      "});
550         \hyperlink{aux__functions_8h_a040868784608606fad914fea56fc65b8}{IRCInterface\_WriteSystem\_Pretty}(\textcolor{stringliteral}{"*"}, lusers);
551         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(1, server);
552         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
553 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a8e0f94275dfaa1e7bc564d3555b9402e_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a448b3ec98632740523ee7a20c5bc81dd}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pumode@{pumode}}
\index{pumode@{pumode}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pumode}]{\setlength{\rightskip}{0pt plus 5cm}int pumode (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a448b3ec98632740523ee7a20c5bc81dd}

\begin{DoxyCode}
27 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{// ya se envia con los botones}
\end{DoxyCode}
\hypertarget{user__commands_8h_a4d9661d482929bb458b85e70c6170d74}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pumotd@{pumotd}}
\index{pumotd@{pumotd}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pumotd}]{\setlength{\rightskip}{0pt plus 5cm}int pumotd (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a4d9661d482929bb458b85e70c6170d74}


Comando de usuario M\-O\-T\-D Displays the Message Of The Day of the I\-R\-C Server you are logged onto.
\begin{DoxyItemize}
\item Syntax\-: M\-O\-T\-D M\-O\-T\-D $<$server$>$ 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
565                          \{
566 
567         \textcolor{keywordtype}{char} command\_enviar[\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}];
568         \textcolor{keywordtype}{char}* server;
569 
570         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje recibido en UMOTD: %s \(\backslash\)n"}, command);
571         IRCUserParse\_Motd (command, &server);
572         g\_print(\textcolor{stringliteral}{"\(\backslash\)t server: %s \(\backslash\)n"}, server);
573         sprintf(command\_enviar, \textcolor{stringliteral}{"MOTD %s\(\backslash\)n\(\backslash\)r"}, server );
574         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar en UMOTD: %s \(\backslash\)n"}, command\_enviar);
575 
576         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
577         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
578         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(1, server);
579         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
580 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a4d9661d482929bb458b85e70c6170d74_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a322cdf0baafadcd1784ab6c8f6d48f04}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pumsg@{pumsg}}
\index{pumsg@{pumsg}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pumsg}]{\setlength{\rightskip}{0pt plus 5cm}int pumsg (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a322cdf0baafadcd1784ab6c8f6d48f04}


Comando de usuario M\-S\-G y P\-R\-I\-V\-M\-S\-G. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
267                         \{
268         \textcolor{keywordtype}{char}* nickorchannel;
269         \textcolor{keywordtype}{char}* msg;
270         \textcolor{keywordtype}{char} *command\_enviar = NULL;
271         \textcolor{keywordtype}{char} *prefix = NULL;
272         \textcolor{keywordtype}{int} ret;
273 
274         \textcolor{comment}{//<< privmsg gomupo :probando}
275         \textcolor{comment}{//>> :gomupo!~gonzalo@119.181.218.87.dynamic.jazztel.es PRIVMSG gomupo :probando}
276         ret = IRCUserParse\_Msg(command, &nickorchannel, &msg);
277         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
278                 g\_print(\textcolor{stringliteral}{"ERROR - IRCInterface\_NewCommandText - UMSG - IRCUserParse\_Msg\(\backslash\)n"});
279                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
280         \}
281         g\_print(\textcolor{stringliteral}{"\(\backslash\)t command: %s \(\backslash\)n"}, command);
282         g\_print(\textcolor{stringliteral}{"\(\backslash\)t nickorchannel: %s \(\backslash\)n"}, nickorchannel);
283         g\_print(\textcolor{stringliteral}{"\(\backslash\)t msg: %s \(\backslash\)n"}, msg);
284 
285         ret = IRCMsg\_Privmsg (&command\_enviar, prefix, nickorchannel, msg);
286         \textcolor{keywordflow}{if}(ret == \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR})\{
287                 g\_print(\textcolor{stringliteral}{"ERROR: IRCInterface\_NewCommandText - IRCMsg\_Privmsg \(\backslash\)n"});
288                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
289         \}
290 
291         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar command\_enviar en pumsg: %s \(\backslash\)n"},command\_enviar);
292         ret = \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
293         \textcolor{keywordflow}{if}(ret == \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR})\{
294                 g\_print(\textcolor{stringliteral}{"ERROR: IRCInterface\_NewCommandText - enviarDatos - Names\(\backslash\)n"});
295                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
296         \}
297         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
298         \textcolor{comment}{//No recibimos nada en este comando, los mensajes de otros usuarios los recibimos por otro hilo}
299         IRCInterface\_WriteChannel (nickorchannel, \hyperlink{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}{nick\_user}, msg);
300         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(4, command\_enviar, nickorchannel, prefix, msg);
301         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
302 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a322cdf0baafadcd1784ab6c8f6d48f04_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_abaae116595df34db33e65e3d9d225103}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!punames@{punames}}
\index{punames@{punames}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{punames}]{\setlength{\rightskip}{0pt plus 5cm}int punames (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_abaae116595df34db33e65e3d9d225103}


Comando de usuario N\-A\-M\-E\-S. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
64                           \{ 
65         \textcolor{comment}{//<< NAMES #redes2}
66         \textcolor{comment}{//>> :irc.eps.net 353 gomupo = #redes2 :flowey cgs gomupo Mamo\_1 qwerttyue asdfgh alpeh ArcaFacts
       BotGram}
67         \textcolor{keywordtype}{char}* channels;
68         \textcolor{keywordtype}{char}* passwords;
69         \textcolor{keywordtype}{char}* command\_enviar;
70         \textcolor{keywordtype}{char}* prefix = NULL;
71         \textcolor{keywordtype}{char}* target = NULL;
72         \textcolor{keywordtype}{char} channels\_passwords [\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}] = \{0\};
73         \textcolor{keywordtype}{int} ret;
74 
75         g\_print(\hyperlink{types_8h_af54a5a977c0c499323d656315f008ee0}{MAG} \textcolor{stringliteral}{"\(\backslash\)n<< [user command] NOTICE - command = %s\(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET}, command);
76         \textcolor{comment}{/*Comprobar si es un comando names sin argumentos, en caso afirmativo no utilizar la función de
       Eloy ya que}
77 \textcolor{comment}{        parece que falla, y mandarlo tal cual*/}
78         \textcolor{comment}{//Usamos strcasecmp para que den igual minusculas}
79         \textcolor{keywordflow}{if}((0 == strcasecmp(command,\textcolor{stringliteral}{"/names"})) && (strlen(command) == strlen(\textcolor{stringliteral}{"/names"})))\{
80                 g\_print(\textcolor{stringliteral}{"\(\backslash\)t Command names sin argumentos: %s \(\backslash\)n"},command);
81                 ret = IRCMsg\_Names (&command\_enviar, prefix, channels\_passwords, target);
82                 \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
83                         g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In punames: IRCMsg\_Names no devolvio IRC\_OK\(\backslash\)n"} 
      \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
84                         \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
85                 \}
86                 g\_print(\textcolor{stringliteral}{"\(\backslash\)t command\_enviar names sin argumentos: %s \(\backslash\)n"},command\_enviar);
87                 ret = \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user},command\_enviar, strlen(command\_enviar))
      ;
88                 \textcolor{keywordflow}{if}(ret == \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR})\{
89                         g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In punames: enviarDatos() devolvio error (ver .log)\(\backslash\)n\(\backslash\)t\(\backslash\)tEl
       cliente se cerrará.\(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
90                         exit(1);
91                 \}
92                 \textcolor{keywordflow}{if}(ret == 0)\{ \textcolor{comment}{//timeout seguramente}
93                         g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In punames: enviarDatos() mandó 0 Bytes(ver .log)\(\backslash\)n\(\backslash\)t\(\backslash\)t
      (Timeout)El cliente se cerrará.\(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
94                         exit(1);
95                 \}
96                 IRCInterface\_PlaneRegisterOutMessage(command);
97                 free(command\_enviar);
98                 \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
99         \}
100 
101         ret = IRCUserParse\_Names(command, &channels, &passwords);
102         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
103                 g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In punames: IRCUserParse\_Names no devolvio IRC\_OK\(\backslash\)n"} 
      \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
104                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
105         \}
106         g\_print(\textcolor{stringliteral}{"\(\backslash\)t command: %s \(\backslash\)n"},command);
107         g\_print(\textcolor{stringliteral}{"\(\backslash\)t channels : %s \(\backslash\)n"},channels);
108         g\_print(\textcolor{stringliteral}{"\(\backslash\)t passwords : %s \(\backslash\)n"},passwords);
109 
110         sprintf(channels\_passwords,\textcolor{stringliteral}{"%s %s"},channels,passwords?passwords:\textcolor{stringliteral}{""});
111 
112         ret = IRCMsg\_Names (&command\_enviar, prefix, channels\_passwords, target);
113         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
114                 g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - In punames: IRCMsg\_Names no devolvio IRC\_OK\(\backslash\)n"} 
      \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
115                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
116         \}
117         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar command\_enviar: %s \(\backslash\)n"},command\_enviar);
118 
119         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
120 
121         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
122         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(5, command\_enviar, channels, passwords, prefix, target);
123         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
124 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_abaae116595df34db33e65e3d9d225103_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a93cab9103f7f4815ff20b47dcf0c117c}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!punick@{punick}}
\index{punick@{punick}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{punick}]{\setlength{\rightskip}{0pt plus 5cm}int punick (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a93cab9103f7f4815ff20b47dcf0c117c}


Comando de usuario N\-I\-C\-K Changes your \char`\"{}\-Online Identity\char`\"{} on a server. All those in the channel you are in will be alerted of your nickname change.
\begin{DoxyItemize}
\item Syntax\-: N\-I\-C\-K $<$new nickname$>$=\char`\"{}\char`\"{}$>$ 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
444                          \{
445 
446         \textcolor{keywordtype}{char}* command\_enviar;
447         \textcolor{keywordtype}{char} *newnick;
448 
449         IRCUserParse\_Nick (command, &newnick);
450         IRCMsg\_Nick (&command\_enviar, NULL, newnick, NULL);
451         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar command\_enviar en NICK: %s \(\backslash\)n"},command\_enviar);
452 
453         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
454         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
455         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(2, command\_enviar, newnick);
456         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
457 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a93cab9103f7f4815ff20b47dcf0c117c_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a4dd6e13bec86782e1c29bc67c6040b95}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!punotice@{punotice}}
\index{punotice@{punotice}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{punotice}]{\setlength{\rightskip}{0pt plus 5cm}int punotice (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a4dd6e13bec86782e1c29bc67c6040b95}


Comando de usuario N\-O\-T\-I\-C\-E Send a notice to a user, channel or server.
\begin{DoxyItemize}
\item N\-O\-T\-I\-C\-E $<$nick$>$ $<$text$>$ Send a notice to a user. Ex\-: /\-N\-O\-T\-I\-C\-E Blah hi, how are you?
\item N\-O\-T\-I\-C\-E $<$\#channel$>$ $<$text$>$ Send a notice to a channel. Ex\-: /\-N\-O\-T\-I\-C\-E \#room Hi all, this is annoying. 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
597                            \{
598 
599         \textcolor{keywordtype}{char} *command\_enviar, mensaje[\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}];
600         \textcolor{keywordtype}{char}* target, *msg;
601 
602         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje recibido en UNOTICE: %s \(\backslash\)n"}, command);
603         IRCUserParse\_Notice (command, &target, &msg);
604 
605         IRCMsg\_Notice (&command\_enviar, NULL, target, msg);
606 
607         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar en UNOTICE: %s \(\backslash\)n"}, command\_enviar);
608         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
609         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
610 
611         \textcolor{keywordflow}{if}(target[0] == \textcolor{charliteral}{'#'})\{
612                 sprintf(mensaje, \textcolor{stringliteral}{">%s/%s<"}, \hyperlink{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}{nick\_user}, target);
613                 IRCInterface\_WriteChannel (target, mensaje, msg);
614         \} \textcolor{keywordflow}{else} \{
615                 sprintf(mensaje, \textcolor{stringliteral}{">%s<"}, \hyperlink{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}{nick\_user});           
616                 IRCInterface\_AddNewChannel (target, 0);
617                 IRCInterface\_WriteChannel (target, mensaje, msg);
618         \}
619         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(3, command\_enviar, target, msg);
620         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
621 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a4dd6e13bec86782e1c29bc67c6040b95_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_ab51cd004b9746694fb19829952779c6b}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puoper@{puoper}}
\index{puoper@{puoper}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puoper}]{\setlength{\rightskip}{0pt plus 5cm}int puoper (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_ab51cd004b9746694fb19829952779c6b}

\begin{DoxyCode}
31 \{ \textcolor{keywordflow}{return} -1; \}
\end{DoxyCode}
\hypertarget{user__commands_8h_adc5c5d5b72106761066833022c9bc83d}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pupart@{pupart}}
\index{pupart@{pupart}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pupart}]{\setlength{\rightskip}{0pt plus 5cm}int pupart (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_adc5c5d5b72106761066833022c9bc83d}


Comando de usuario P\-A\-R\-T Used to part (or leave) a channel you currently occupy. All those in the channel will be notified of your departure. If you specify a reason it will be displayed to the users on the channel
\begin{DoxyItemize}
\item Syntax\-: P\-A\-R\-T $<$chan$>$,$<$chan2$>$,$<$chan3$>$,$<$chan4$>$ $<$reason$>$ 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
386                          \{
387         \textcolor{keywordtype}{char}* channel;
388         \textcolor{keywordtype}{char} command\_enviar[\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}];
389 
390         IRCUserParse\_Part(command, &channel);
391         sprintf(command\_enviar, \textcolor{stringliteral}{"PART %s :Saliendo\(\backslash\)r\(\backslash\)n"}, channel?channel:IRCInterface\_ActiveChannelName());
392 
393         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
394         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
395         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(1, channel);
396         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
397 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_adc5c5d5b72106761066833022c9bc83d_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a1af5de7d9cb449f78a7f511d28c64ba9}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!pupartall@{pupartall}}
\index{pupartall@{pupartall}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{pupartall}]{\setlength{\rightskip}{0pt plus 5cm}int pupartall (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a1af5de7d9cb449f78a7f511d28c64ba9}

\begin{DoxyCode}
28 \{ \textcolor{keywordflow}{return} -1; \}
\end{DoxyCode}
\hypertarget{user__commands_8h_a8149f7beb37fd789f142acb2113efd1c}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puquery@{puquery}}
\index{puquery@{puquery}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puquery}]{\setlength{\rightskip}{0pt plus 5cm}int puquery (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a8149f7beb37fd789f142acb2113efd1c}


Comando de usuario Q\-U\-E\-R\-Y Use the \char`\"{}/query $<$user$>$\char`\"{} command to specify that every message you type should be directed to a single user. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
661                           \{
662 
663         \textcolor{keywordtype}{char}* nickorchannel, *msg;
664 
665         IRCUserParse\_Query (command, &nickorchannel, &msg);
666         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje recibido en UQUERY: %s \(\backslash\)n"}, command);
667         g\_print(\textcolor{stringliteral}{"\(\backslash\)t nickorchannel: %s \(\backslash\)n"}, nickorchannel);
668         g\_print(\textcolor{stringliteral}{"\(\backslash\)t msg: %s \(\backslash\)n"}, msg);
669 
670         \textcolor{keywordflow}{if}(nickorchannel != NULL)\{
671                 IRCInterface\_AddNewChannel (nickorchannel, 0);
672         \}
673         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(2, nickorchannel, msg);
674     \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
675 \}\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{user__commands_8h_a8149f7beb37fd789f142acb2113efd1c_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_ad738a7d361fe18d7774bab370a4454a8}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puquit@{puquit}}
\index{puquit@{puquit}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puquit}]{\setlength{\rightskip}{0pt plus 5cm}int puquit (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_ad738a7d361fe18d7774bab370a4454a8}


Comando de usuario Q\-U\-I\-T En principio solo se llama con\-: 


\begin{DoxyItemize}
\item Callback\-: Boton 'Desconectar' -\/$>$ \hyperlink{xchat2_8c_a8bf0424ef7f845be79a056e9aed56fe2}{I\-R\-C\-Interface\-\_\-\-Disconnect\-Server(char $\ast$server, int port)}
\item Callback\-: '/\-Q\-U\-I\-T en chat + E\-N\-T\-E\-R' -\/$>$ I\-R\-C\-Interface\-\_\-\-New\-Command\-Text(\char`\"{}/\-Q\-U\-I\-T \char`\"{}) 
\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\end{DoxyItemize}
\begin{DoxyCode}
188                          \{
189 
190         \textcolor{keywordtype}{char}* command\_enviar;
191         \textcolor{keywordtype}{char}* reason;
192         \textcolor{comment}{//char command[] = "QUIT :Leaving";}
193 
194         \textcolor{keywordtype}{char}** channelsQuit;
195         \textcolor{keywordtype}{int} numChannelsQuit;
196         \textcolor{keywordtype}{int} i, ret;
197 
198         \textcolor{comment}{//kill hilo 'receive\_messages()'}
199         ret = pthread\_cancel(\hyperlink{user__commands_8h_ab5efd1efa144e252f4c5312ae57bea2e}{recv\_tid});
200         \textcolor{keywordflow}{if} (ret != 0)\{
201                 g\_print(\hyperlink{types_8h_af54a5a977c0c499323d656315f008ee0}{MAG} \textcolor{stringliteral}{"\(\backslash\)npthread\_cancel() return = %d\(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET}, ret);
202         \}
203 
204         IRCUserParse\_Quit (command, &reason);
205         IRCMsg\_Quit (&command\_enviar, NULL, reason ? reason : \textcolor{stringliteral}{"Desconectando..."});
206         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar command\_enviar en QUIT: %s \(\backslash\)n"},command\_enviar);
207         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
208         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
209         \hyperlink{conexion__tcp_8h_a831321f466f7f9fa60b0f940b7c2d7da}{cerrarConexion}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, NULL);
210         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(2, command\_enviar, reason);
211 
212         \textcolor{comment}{/*IRCInterface\_RemoveAllChannels da segmentation fault por alguna razón*/}
213         IRCInterface\_ListAllChannels(&channelsQuit, &numChannelsQuit);
214         \textcolor{keywordflow}{for}(i = 0; i<numChannelsQuit; i++)\{
215                 \textcolor{comment}{//IRCInterface\_WriteChannelThread(channelsQuit[i],"*", "Desconectado.");}
216                 IRCInterface\_RemoveChannel(channelsQuit[i]);
217         \}
218         \hyperlink{aux__functions_8h_a040868784608606fad914fea56fc65b8}{IRCInterface\_WriteSystem\_Pretty}(\textcolor{stringliteral}{"*"}, \textcolor{stringliteral}{"Desconectado."});
219 
220         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
221 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_ad738a7d361fe18d7774bab370a4454a8_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a0a15138d8927dd543805edcc035b8132}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!putopic@{putopic}}
\index{putopic@{putopic}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{putopic}]{\setlength{\rightskip}{0pt plus 5cm}int putopic (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a0a15138d8927dd543805edcc035b8132}

\begin{DoxyCode}
36 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{// se envia con la barra de topic}
\end{DoxyCode}
\hypertarget{user__commands_8h_a8a3e6d36d02bc24a451f806de272c691}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puunaway@{puunaway}}
\index{puunaway@{puunaway}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puunaway}]{\setlength{\rightskip}{0pt plus 5cm}int puunaway (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a8a3e6d36d02bc24a451f806de272c691}

\begin{DoxyCode}
30 \{ \textcolor{keywordflow}{return} -1; \} \textcolor{comment}{//existe UNAWAY??}
\end{DoxyCode}
\hypertarget{user__commands_8h_aef4e57bf112f9c4a2d51b1a314df0b63}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puwho@{puwho}}
\index{puwho@{puwho}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puwho}]{\setlength{\rightskip}{0pt plus 5cm}int puwho (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_aef4e57bf112f9c4a2d51b1a314df0b63}


Comando de usuario W\-H\-O. 


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
228                         \{
229 
230         \textcolor{keywordtype}{long} ret = -1;
231 
232         \textcolor{keywordtype}{char}* command\_enviar=NULL;
233         \textcolor{keywordtype}{char}* prefix = NULL;
234         \textcolor{keywordtype}{char}* mask;
235         
236         ret = IRCUserParse\_Who (command, &mask);
237         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
238                 g\_print(\textcolor{stringliteral}{"ERROR - IRCInterface\_NewCommandText - UWHO - IRCUserParse\_Who"});
239                 \textcolor{keywordflow}{return} -1;
240         \}
241         g\_print(\textcolor{stringliteral}{"\(\backslash\)t command: %s \(\backslash\)n"},command);
242         g\_print(\textcolor{stringliteral}{"\(\backslash\)t mask who: %s \(\backslash\)n"},mask);
243         
244         ret = IRCMsg\_Who (&command\_enviar, prefix, mask, NULL);
245         \textcolor{keywordflow}{if}(ret != IRC\_OK)\{
246                 g\_print(\hyperlink{types_8h_a8d23feea868a983c8c2b661e1e16972f}{RED} \textcolor{stringliteral}{"ERROR - puwho - IRCMsg\_Who \(\backslash\)n"} \hyperlink{types_8h_ab702106cf3b3e96750b6845ded4e0299}{RESET});
247                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
248         \}
249 
250         g\_print(\textcolor{stringliteral}{"\(\backslash\)t command\_enviar: %s \(\backslash\)n"},command\_enviar);
251 
252         \textcolor{keywordflow}{if}(\hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user},command\_enviar, strlen(command\_enviar) == 
      \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR}))\{
253                 g\_print(\textcolor{stringliteral}{"ERROR: IRCInterface\_NewCommandText - enviarDatos - Who\(\backslash\)n"});
254                 \textcolor{keywordflow}{return} \hyperlink{types_8h_a735563036dced0b7d6cc98f97ea4978b}{ERR};
255         \}
256 
257         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);   
258         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(3, command\_enviar, prefix, mask);
259         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
260 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_aef4e57bf112f9c4a2d51b1a314df0b63_cgraph}
\end{center}
\end{figure}


\hypertarget{user__commands_8h_a08bd5900f288bfb5712d3f5ca6e624b6}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!puwhois@{puwhois}}
\index{puwhois@{puwhois}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{puwhois}]{\setlength{\rightskip}{0pt plus 5cm}int puwhois (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{command}
\end{DoxyParamCaption}
)}}\label{user__commands_8h_a08bd5900f288bfb5712d3f5ca6e624b6}


Comando de usuario W\-H\-O\-I\-S Shows information about the user in question, such as their \char`\"{}\-Name\char`\"{}, channels they are currently in, their hostmask, etc.
\begin{DoxyItemize}
\item Syntax\-: W\-H\-O\-I\-S $<$user$>$ 
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em command} & cadena introducida por el usuario en el campo de texto \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\-K si todo es correcto, E\-R\-R si se produce un error 
\end{DoxyReturn}

\begin{DoxyCode}
499                           \{
500 
501         \textcolor{keywordtype}{char} command\_enviar[\hyperlink{types_8h_ae7e715c270481406658bbd2bafa2897f}{MAXDATA}];
502         \textcolor{keywordtype}{char}* nick = NULL;
503         \textcolor{keywordtype}{char} whois[200];
504 
505         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje recibido en UWHOIS: %s \(\backslash\)n"}, command);
506         IRCUserParse\_Whois (command, &nick);
507 
508         g\_print(\textcolor{stringliteral}{"\(\backslash\)t nick: %s \(\backslash\)n"}, nick);
509         sprintf(command\_enviar, \textcolor{stringliteral}{"WHOIS %s\(\backslash\)n\(\backslash\)r"}, nick );
510         g\_print(\textcolor{stringliteral}{"\(\backslash\)t Mensaje a enviar en UWHOIS: %s \(\backslash\)n"}, command\_enviar);
511 
512         \hyperlink{conexion__tcp_8h_ab9468ce1338cfca5736ab407ba155f55}{enviarDatos}(\hyperlink{aux__functions_8h_acd63fb8dbd9439219e2db08dfc173aa0}{sockfd\_user}, command\_enviar, strlen(command\_enviar));
513         IRCInterface\_PlaneRegisterOutMessage(command\_enviar);
514 
515         strcpy(whois,\textcolor{stringliteral}{"WHOIS "});
516         strcat(whois, nick);
517         \hyperlink{aux__functions_8h_a040868784608606fad914fea56fc65b8}{IRCInterface\_WriteSystem\_Pretty}(\textcolor{stringliteral}{"*"}, \textcolor{stringliteral}{"------------------------------
      "});
518         \hyperlink{aux__functions_8h_a040868784608606fad914fea56fc65b8}{IRCInterface\_WriteSystem\_Pretty}(\textcolor{stringliteral}{"*"}, whois);
519         \hyperlink{aux__functions_8h_a2480cc4793bf25a16cc731dc9d033582}{mfree}(1, nick);
520         \textcolor{keywordflow}{return} \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK};
521 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{user__commands_8h_a08bd5900f288bfb5712d3f5ca6e624b6_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!nick\-\_\-user@{nick\-\_\-user}}
\index{nick\-\_\-user@{nick\-\_\-user}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{nick\-\_\-user}]{\setlength{\rightskip}{0pt plus 5cm}char nick\-\_\-user\mbox{[}{\bf M\-A\-X\-D\-A\-T\-A}\mbox{]}}}\label{user__commands_8h_a7e2f32e47f3780a66e19651d8e79bced}
nick del usuario operador del cliente \hypertarget{user__commands_8h_ab5efd1efa144e252f4c5312ae57bea2e}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!recv\-\_\-tid@{recv\-\_\-tid}}
\index{recv\-\_\-tid@{recv\-\_\-tid}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{recv\-\_\-tid}]{\setlength{\rightskip}{0pt plus 5cm}pthread\-\_\-t recv\-\_\-tid}}\label{user__commands_8h_ab5efd1efa144e252f4c5312ae57bea2e}
tid del hilo encargado de recibir datos del servidor

Globales útiles sobre la conexión del cliente con el servidor \hypertarget{user__commands_8h_acd63fb8dbd9439219e2db08dfc173aa0}{\index{user\-\_\-commands.\-h@{user\-\_\-commands.\-h}!sockfd\-\_\-user@{sockfd\-\_\-user}}
\index{sockfd\-\_\-user@{sockfd\-\_\-user}!user_commands.h@{user\-\_\-commands.\-h}}
\subsubsection[{sockfd\-\_\-user}]{\setlength{\rightskip}{0pt plus 5cm}int sockfd\-\_\-user}}\label{user__commands_8h_acd63fb8dbd9439219e2db08dfc173aa0}
global con el descriptor socket abierto con el servidor

descriptor con el socket abierto con el servidor 