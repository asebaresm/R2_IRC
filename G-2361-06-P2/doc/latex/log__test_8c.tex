\hypertarget{log__test_8c}{\section{src/log\-\_\-test.c File Reference}
\label{log__test_8c}\index{src/log\-\_\-test.\-c@{src/log\-\_\-test.\-c}}
}


Prueba de la libreria de logs.  


{\ttfamily \#include \char`\"{}../includes/logger.\-h\char`\"{}}\\*
Include dependency graph for log\-\_\-test.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{log__test_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{log__test_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
pthread\-\_\-mutex\-\_\-t \hyperlink{log__test_8c_a53497b00bd1ff0270ca7a108d5794dbc}{loglock}
\begin{DoxyCompactList}\small\item\em Definicion del Mutex para el descriptor de fichero del log. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Prueba de la libreria de logs. \begin{DoxyAuthor}{Author}
Alfonso Sebares 

Beatriz de Pablo 

Celia Mateos 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
13/02/17 
\end{DoxyDate}


\subsection{Function Documentation}
\hypertarget{log__test_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{\index{log\-\_\-test.\-c@{log\-\_\-test.\-c}!main@{main}}
\index{main@{main}!log_test.c@{log\-\_\-test.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{log__test_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}

\begin{DoxyCode}
19 \{
20    FILE* fp = NULL;
21    fp = \hyperlink{logger_8h_a1fa2e9d39664def63d53e3d576dc923f}{initLog}();
22 
23    \textcolor{keywordflow}{if} (pthread\_mutex\_init(&\hyperlink{log__test_8c_a53497b00bd1ff0270ca7a108d5794dbc}{loglock}, NULL) != \hyperlink{daemon_8h_aba51915c87d64af47fb1cc59348961c9}{OK})\{
24       perror(\textcolor{stringliteral}{"\(\backslash\)n mutex init ha devuelto error\(\backslash\)n"});
25       \textcolor{keywordflow}{return} EXIT\_FAILURE;
26    \}
27 
28    \textcolor{keywordflow}{if} (fp == NULL)\{
29       perror(\textcolor{stringliteral}{"ERR abriendo fichero"});
30       \textcolor{keywordflow}{return} (EXIT\_FAILURE);
31    \}
32 
33    \hyperlink{logger_8h_af71188329ee1cf68a59d3f9ddd035ca6}{logEvent}(\textcolor{stringliteral}{"Evento 1..."});
34    \hyperlink{logger_8h_af71188329ee1cf68a59d3f9ddd035ca6}{logEvent}(\textcolor{stringliteral}{"Evento 2..."});
35    \hyperlink{logger_8h_af71188329ee1cf68a59d3f9ddd035ca6}{logEvent}(\textcolor{stringliteral}{"Evento 3..."});
36    \hyperlink{logger_8h_af71188329ee1cf68a59d3f9ddd035ca6}{logEvent}(\textcolor{stringliteral}{"Gatos :3"});
37 
38    fp = fopen(\textcolor{stringliteral}{"fichero-inexistente.txt"}, \textcolor{stringliteral}{"r"});
39    \textcolor{keywordflow}{if} (fp == NULL)\{
40       \hyperlink{logger_8h_a9487660b2ec318326782a9d9e32f8461}{logERR}(\textcolor{stringliteral}{"Error de fopen detectado"});
41    \}
42 
43    pthread\_mutex\_destroy(&\hyperlink{log__test_8c_a53497b00bd1ff0270ca7a108d5794dbc}{loglock});
44    \textcolor{keywordflow}{return} (EXIT\_SUCCESS);
45 \}\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{log__test_8c_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{log__test_8c_a53497b00bd1ff0270ca7a108d5794dbc}{\index{log\-\_\-test.\-c@{log\-\_\-test.\-c}!loglock@{loglock}}
\index{loglock@{loglock}!log_test.c@{log\-\_\-test.\-c}}
\subsubsection[{loglock}]{\setlength{\rightskip}{0pt plus 5cm}pthread\-\_\-mutex\-\_\-t loglock}}\label{log__test_8c_a53497b00bd1ff0270ca7a108d5794dbc}


Definicion del Mutex para el descriptor de fichero del log. 

Declaracion del Mutex para el descriptor de fichero del log. Siempre tiene que ser definida en el source princpal. 