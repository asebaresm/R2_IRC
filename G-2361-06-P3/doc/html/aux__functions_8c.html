<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>srclib/aux_functions.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_055525a30e828dc7e51b22601599d317.html">srclib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">aux_functions.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementacion de las funciones auxiliares de xchat2.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="aux__functions_8h_source.html">../includes/aux_functions.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for aux_functions.c:</div>
<div class="dyncontent">
<div class="center"><img src="aux__functions_8c__incl.png" border="0" usemap="#srclib_2aux__functions_8c" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2480cc4793bf25a16cc731dc9d033582"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a2480cc4793bf25a16cc731dc9d033582">mfree</a> (int n,...)</td></tr>
<tr class="memdesc:a2480cc4793bf25a16cc731dc9d033582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Libera punteros si estos no estan a NULL Uso.  <a href="#a2480cc4793bf25a16cc731dc9d033582">More...</a><br /></td></tr>
<tr class="separator:a2480cc4793bf25a16cc731dc9d033582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a7f9a514711f5954007dc83533d9362"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a9a7f9a514711f5954007dc83533d9362">save_file</a> (void *args)</td></tr>
<tr class="memdesc:a9a7f9a514711f5954007dc83533d9362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establece la conexíon con el servidor de archivos para recibir los datos y escribirlos en un fichero.  <a href="#a9a7f9a514711f5954007dc83533d9362">More...</a><br /></td></tr>
<tr class="separator:a9a7f9a514711f5954007dc83533d9362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c2fcb81e148a2f23080a1671869f96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a09c2fcb81e148a2f23080a1671869f96">interface_mostrar_nicks</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *list)</td></tr>
<tr class="memdesc:a09c2fcb81e148a2f23080a1671869f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actualiza la lista de nicks de la interfaz y sus estados.  <a href="#a09c2fcb81e148a2f23080a1671869f96">More...</a><br /></td></tr>
<tr class="separator:a09c2fcb81e148a2f23080a1671869f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f32d171da437faef7716e4b6e667dd"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a20f32d171da437faef7716e4b6e667dd">strnext</a> (char *haystack, int ch)</td></tr>
<tr class="memdesc:a20f32d171da437faef7716e4b6e667dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Devuelve una cadena que empieza inmediatamente después de la cadena 'haystack' tras la primera aparición de 'ch'.  <a href="#a20f32d171da437faef7716e4b6e667dd">More...</a><br /></td></tr>
<tr class="separator:a20f32d171da437faef7716e4b6e667dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90798d5fe15fdd743f8802b0f154b854"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a90798d5fe15fdd743f8802b0f154b854">parse_type</a> (const char *message)</td></tr>
<tr class="memdesc:a90798d5fe15fdd743f8802b0f154b854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Devuelve el tipo de comando (código 3 digitos) de un mensaje no reconocido por IRC_CommandQuery()  <a href="#a90798d5fe15fdd743f8802b0f154b854">More...</a><br /></td></tr>
<tr class="separator:a90798d5fe15fdd743f8802b0f154b854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a040868784608606fad914fea56fc65b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a040868784608606fad914fea56fc65b8">IRCInterface_WriteSystem_Pretty</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>)</td></tr>
<tr class="separator:a040868784608606fad914fea56fc65b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043ae6695458ae3a85dc9da43cf9b751"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>)</td></tr>
<tr class="separator:a043ae6695458ae3a85dc9da43cf9b751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6400bb2b7979a2393f0e84b6646a24fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a> (char *chan, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>)</td></tr>
<tr class="separator:a6400bb2b7979a2393f0e84b6646a24fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3c58618c3bb95d81a542251062d19e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a8d3c58618c3bb95d81a542251062d19e">testIRC_CommandQuery</a> (char *message)</td></tr>
<tr class="separator:a8d3c58618c3bb95d81a542251062d19e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06340d30a60b297a60b17841767fad85"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aux__functions_8c.html#a06340d30a60b297a60b17841767fad85">changeMode</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, char *mode)</td></tr>
<tr class="separator:a06340d30a60b297a60b17841767fad85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementacion de las funciones auxiliares de xchat2. </p>
<dl class="section author"><dt>Author</dt><dd>Alfonso Sebares </dd>
<dd>
Beatriz de Pablo </dd>
<dd>
Celia Mateos </dd></dl>
<dl class="section date"><dt>Date</dt><dd>13/02/17 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a06340d30a60b297a60b17841767fad85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int changeMode </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                                     {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordtype">char</span> *command = NULL;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="comment">//long IRCMsg_Mode (char **command, char *prefix, char * channeloruser, char *mode, char *user)</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        ret = IRCMsg_Mode (&amp;command, NULL, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, mode, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In changeMode: Error en IRCMsg_Mode, no devolvió IRC_OK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        ret = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(<a class="code" href="aux__functions_8h.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a>, command, strlen(command));</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span>(ret == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In changeMode: Error en enviarDatos, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        IRCInterface_PlaneRegisterOutMessage(command);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        free(command);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="aux__functions_8h_html_acd63fb8dbd9439219e2db08dfc173aa0"><div class="ttname"><a href="aux__functions_8h.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a></div><div class="ttdeci">int sockfd_user</div><div class="ttdef"><b>Definition:</b> xchat2.c:22</div></div>
<div class="ttc" id="conexion__tcp_8h_html_ab9468ce1338cfca5736ab407ba155f55"><div class="ttname"><a href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a></div><div class="ttdeci">int enviarDatos(int client_sock, char *message, int message_size)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:83</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="aux__functions_8c_a06340d30a60b297a60b17841767fad85_cgraph.png" border="0" usemap="#aux__functions_8c_a06340d30a60b297a60b17841767fad85_cgraph" alt=""/></div>
<!-- MAP 1 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a09c2fcb81e148a2f23080a1671869f96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface_mostrar_nicks </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Actualiza la lista de nicks de la interfaz y sus estados. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>canal que se quiere actualizar </td></tr>
    <tr><td class="paramname">list</td><td>lista de nicks obtenida del comando names, separados por espacios </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                                                       {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\n aux call: interface_mostrar_nicks() \n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordtype">char</span>* show_nick;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="comment">//obtenemos los nicks del mensaje y los mostramos por separado</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">//Eliminar los nicks del canal</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        IRCInterface_NickListChannelThread(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, NULL, NULL, NULL, NONE, 0);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        show_nick = strtok(list, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        g_print(<span class="stringliteral">&quot;channel: %s \n&quot;</span>,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        g_print(<span class="stringliteral">&quot;show_nick: %s \n&quot;</span>,show_nick);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        g_print(<span class="stringliteral">&quot;list: %s \n\n&quot;</span>,list);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">if</span> (show_nick[0] == <span class="charliteral">&#39;@&#39;</span>)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                IRCInterface_AddNickChannelThread (<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, ++show_nick, list, list, list, OPERATOR);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (show_nick[0] == <span class="charliteral">&#39;+&#39;</span>){</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                IRCInterface_AddNickChannelThread (<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, ++show_nick, list, list, list, VOICE);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        } <span class="keywordflow">else</span>{</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                IRCInterface_AddNickChannelThread (<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, show_nick, list, list, list, NONE);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        </div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">while</span> ((show_nick = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>)) != NULL){</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <span class="keywordflow">if</span> (show_nick[0] == <span class="charliteral">&#39;@&#39;</span>)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        IRCInterface_AddNickChannelThread (<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, ++show_nick, list, list, list, OPERATOR);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (show_nick[0] == <span class="charliteral">&#39;+&#39;</span>){</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        IRCInterface_AddNickChannelThread (<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, ++show_nick, list, list, list, VOICE);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                } <span class="keywordflow">else</span>{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        IRCInterface_AddNickChannelThread (<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, show_nick, list, list, list, NONE);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6400bb2b7979a2393f0e84b6646a24fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_WriteChannelThread_Pretty </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                                                              {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordtype">char</span> snap[<a class="code" href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a>];</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordtype">char</span> f_nick[<a class="code" href="aux__functions_8h.html#a0eb099cedadf6c8aebb6b92b34d71631">MAX_NICK_FIELD</a>];</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span>(strlen(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>) &gt; 9){</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <a class="code" href="logger_8h.html#a9487660b2ec318326782a9d9e32f8461">logERR</a>(<span class="stringliteral">&quot;En IRCInterface_WriteSystemThread_Pretty: strlen(nick) &gt; 9&quot;</span>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        strcpy(f_nick, <span class="stringliteral">&quot;[&quot;</span>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        strcat(f_nick, <a class="code" href="logger_8h.html#a9780074b15cc3acc70e3ee5989c8005a">snapTime</a>(snap,<a class="code" href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a>));</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        strcat(f_nick, <span class="stringliteral">&quot;]&quot;</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        strcat(f_nick, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        IRCInterface_WriteChannelThread(chan, f_nick, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>);     </div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="ttc" id="logger_8h_html_a9780074b15cc3acc70e3ee5989c8005a"><div class="ttname"><a href="logger_8h.html#a9780074b15cc3acc70e3ee5989c8005a">snapTime</a></div><div class="ttdeci">char * snapTime(char *buf, int len)</div><div class="ttdef"><b>Definition:</b> logger.c:15</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:21</div></div>
<div class="ttc" id="aux__functions_8h_html_a0eb099cedadf6c8aebb6b92b34d71631"><div class="ttname"><a href="aux__functions_8h.html#a0eb099cedadf6c8aebb6b92b34d71631">MAX_NICK_FIELD</a></div><div class="ttdeci">#define MAX_NICK_FIELD</div><div class="ttdef"><b>Definition:</b> aux_functions.h:20</div></div>
<div class="ttc" id="aux__functions_8h_html_a9e8ece425678b8ada57d963482ca7c63"><div class="ttname"><a href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a></div><div class="ttdeci">#define SNAP_SIZE</div><div class="ttdef"><b>Definition:</b> aux_functions.h:19</div></div>
<div class="ttc" id="logger_8h_html_a9487660b2ec318326782a9d9e32f8461"><div class="ttname"><a href="logger_8h.html#a9487660b2ec318326782a9d9e32f8461">logERR</a></div><div class="ttdeci">int logERR(char *log_msg)</div><div class="ttdef"><b>Definition:</b> logger.c:121</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="aux__functions_8c_a6400bb2b7979a2393f0e84b6646a24fe_cgraph.png" border="0" usemap="#aux__functions_8c_a6400bb2b7979a2393f0e84b6646a24fe_cgraph" alt=""/></div>
<!-- MAP 2 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a040868784608606fad914fea56fc65b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_WriteSystem_Pretty </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                           {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordtype">char</span> snap[<a class="code" href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a>];</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordtype">char</span> f_nick[<a class="code" href="aux__functions_8h.html#a0eb099cedadf6c8aebb6b92b34d71631">MAX_NICK_FIELD</a>];</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span>(strlen(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>) &gt; 9){</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <a class="code" href="logger_8h.html#a9487660b2ec318326782a9d9e32f8461">logERR</a>(<span class="stringliteral">&quot;En IRCInterface_WriteSystemThread_Pretty: strlen(nick) &gt; 9&quot;</span>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        strcpy(f_nick, <span class="stringliteral">&quot;[&quot;</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        strcat(f_nick, <a class="code" href="logger_8h.html#a9780074b15cc3acc70e3ee5989c8005a">snapTime</a>(snap,<a class="code" href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a>));</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        strcat(f_nick, <span class="stringliteral">&quot;] &quot;</span>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        strcat(f_nick, <span class="stringliteral">&quot;              *&quot;</span>);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="comment">//g_print(MAG&quot;\n&gt;&gt;&gt;&gt;%s\n&quot; RESET, f_nick);</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>[strlen(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>) - 2] == 13) <span class="comment">//check si es comienzo de CR,LF</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>[strlen(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>) - 2] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        IRCInterface_WriteSystem(f_nick,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="logger_8h_html_a9780074b15cc3acc70e3ee5989c8005a"><div class="ttname"><a href="logger_8h.html#a9780074b15cc3acc70e3ee5989c8005a">snapTime</a></div><div class="ttdeci">char * snapTime(char *buf, int len)</div><div class="ttdef"><b>Definition:</b> logger.c:15</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:21</div></div>
<div class="ttc" id="aux__functions_8h_html_a0eb099cedadf6c8aebb6b92b34d71631"><div class="ttname"><a href="aux__functions_8h.html#a0eb099cedadf6c8aebb6b92b34d71631">MAX_NICK_FIELD</a></div><div class="ttdeci">#define MAX_NICK_FIELD</div><div class="ttdef"><b>Definition:</b> aux_functions.h:20</div></div>
<div class="ttc" id="aux__functions_8h_html_a9e8ece425678b8ada57d963482ca7c63"><div class="ttname"><a href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a></div><div class="ttdeci">#define SNAP_SIZE</div><div class="ttdef"><b>Definition:</b> aux_functions.h:19</div></div>
<div class="ttc" id="logger_8h_html_a9487660b2ec318326782a9d9e32f8461"><div class="ttname"><a href="logger_8h.html#a9487660b2ec318326782a9d9e32f8461">logERR</a></div><div class="ttdeci">int logERR(char *log_msg)</div><div class="ttdef"><b>Definition:</b> logger.c:121</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="aux__functions_8c_a040868784608606fad914fea56fc65b8_cgraph.png" border="0" usemap="#aux__functions_8c_a040868784608606fad914fea56fc65b8_cgraph" alt=""/></div>
<!-- MAP 3 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a043ae6695458ae3a85dc9da43cf9b751"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_WriteSystemThread_Pretty </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                                                 {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordtype">char</span> snap[<a class="code" href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a>];</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordtype">char</span> f_nick[<a class="code" href="aux__functions_8h.html#a0eb099cedadf6c8aebb6b92b34d71631">MAX_NICK_FIELD</a>];</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span>(strlen(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>) &gt; 9){</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                <a class="code" href="logger_8h.html#a9487660b2ec318326782a9d9e32f8461">logERR</a>(<span class="stringliteral">&quot;En IRCInterface_WriteSystemThread_Pretty: strlen(nick) &gt; 9&quot;</span>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        strcpy(f_nick, <span class="stringliteral">&quot;[&quot;</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        strcat(f_nick, <a class="code" href="logger_8h.html#a9780074b15cc3acc70e3ee5989c8005a">snapTime</a>(snap,<a class="code" href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a>));</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        strcat(f_nick, <span class="stringliteral">&quot;] &quot;</span>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        strcat(f_nick, <span class="stringliteral">&quot;              *&quot;</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="comment">//g_print(MAG&quot;\n&gt;&gt;&gt;&gt;%s\n&quot; RESET, f_nick);</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>[strlen(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>) - 2] == 13) <span class="comment">//check si es comienzo de CR,LF</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>[strlen(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>) - 2] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        IRCInterface_WriteSystemThread(f_nick,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div><div class="ttc" id="logger_8h_html_a9780074b15cc3acc70e3ee5989c8005a"><div class="ttname"><a href="logger_8h.html#a9780074b15cc3acc70e3ee5989c8005a">snapTime</a></div><div class="ttdeci">char * snapTime(char *buf, int len)</div><div class="ttdef"><b>Definition:</b> logger.c:15</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:21</div></div>
<div class="ttc" id="aux__functions_8h_html_a0eb099cedadf6c8aebb6b92b34d71631"><div class="ttname"><a href="aux__functions_8h.html#a0eb099cedadf6c8aebb6b92b34d71631">MAX_NICK_FIELD</a></div><div class="ttdeci">#define MAX_NICK_FIELD</div><div class="ttdef"><b>Definition:</b> aux_functions.h:20</div></div>
<div class="ttc" id="aux__functions_8h_html_a9e8ece425678b8ada57d963482ca7c63"><div class="ttname"><a href="aux__functions_8h.html#a9e8ece425678b8ada57d963482ca7c63">SNAP_SIZE</a></div><div class="ttdeci">#define SNAP_SIZE</div><div class="ttdef"><b>Definition:</b> aux_functions.h:19</div></div>
<div class="ttc" id="logger_8h_html_a9487660b2ec318326782a9d9e32f8461"><div class="ttname"><a href="logger_8h.html#a9487660b2ec318326782a9d9e32f8461">logERR</a></div><div class="ttdeci">int logERR(char *log_msg)</div><div class="ttdef"><b>Definition:</b> logger.c:121</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="aux__functions_8c_a043ae6695458ae3a85dc9da43cf9b751_cgraph.png" border="0" usemap="#aux__functions_8c_a043ae6695458ae3a85dc9da43cf9b751_cgraph" alt=""/></div>
<!-- MAP 4 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a2480cc4793bf25a16cc731dc9d033582"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mfree </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Libera punteros si estos no estan a NULL Uso. </p>
<p>mfree(3,a,b,c); mfree(4,a,b,c,d); </p>
<div class="fragment"><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                      {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        va_list ap;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keywordtype">char</span> *p = NULL;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="keyword">register</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        va_start(ap, n);</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; n; ++i)</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                p = (<span class="keywordtype">char</span> *) va_arg(ap, <span class="keywordtype">char</span>*);</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                <span class="keywordflow">if</span>( p != NULL) free(p);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        }</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        va_end (ap);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90798d5fe15fdd743f8802b0f154b854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int parse_type </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Devuelve el tipo de comando (código 3 digitos) de un mensaje no reconocido por IRC_CommandQuery() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>mensaje original </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int codigo de comando si es un codigo valido, ERR si no lo es o comando invalido </dd></dl>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                   {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordtype">int</span> unknw_type;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">char</span>* token = NULL;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordtype">char</span>* message_cp = NULL;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span>(message[0] == <span class="charliteral">&#39;:&#39;</span>){ <span class="comment">//mensaje con prefijo, no originado por el cliente</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                message_cp = strdup(message);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                token = strtok(message_cp, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        token = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        free(message_cp);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        unknw_type = atoi(token);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        <span class="keywordflow">if</span> (unknw_type &lt; <a class="code" href="types_8h.html#a8756b6216508f7f2f20ebc934889ee77">MAX_IRC_COMMAND</a>){</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                <span class="keywordflow">return</span> unknw_type;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="ttc" id="types_8h_html_a8756b6216508f7f2f20ebc934889ee77"><div class="ttname"><a href="types_8h.html#a8756b6216508f7f2f20ebc934889ee77">MAX_IRC_COMMAND</a></div><div class="ttdeci">#define MAX_IRC_COMMAND</div><div class="ttdef"><b>Definition:</b> types.h:23</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a7f9a514711f5954007dc83533d9362"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int save_file </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establece la conexíon con el servidor de archivos para recibir los datos y escribirlos en un fichero. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>estructura que contiene los parametros necesarios para establacer la conexion </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK si todo fue correcto y ERR si ocurrio un error </dd></dl>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                         {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        g_print(<span class="stringliteral">&quot;\n =========save_file========= \n&quot;</span>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="struct_file__args.html">File_args</a>* file_args = (<a class="code" href="struct_file__args.html">File_args</a>*) args;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        FILE* file = fopen(file_args-&gt;<a class="code" href="struct_file__args.html#ad24dfcb255f29ee677793a0051c7336b">filename</a>,<span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordtype">char</span> message[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>];</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        g_print(<span class="stringliteral">&quot;Guardamos el archivo\n&quot;</span>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keyword">struct </span>hostent *he;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">struct </span>in_addr **addr_list;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">int</span> i=0;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">char</span> ip_addr[INET_ADDRSTRLEN]=<span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    sleep(2);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    g_print(<span class="stringliteral">&quot;file_args-&gt;hostname: %s \nfile_args-&gt;port: %d \n&quot;</span>,file_args-&gt;<a class="code" href="struct_file__args.html#a9aa177aea3a099397a09131a92f30115">hostname</a>, file_args-&gt;<a class="code" href="struct_file__args.html#a83e78eb2ebacdc7e63eca61d1340fa61">port</a>); </div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">int</span> file_sockfd;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> ((he = gethostbyname(file_args-&gt;<a class="code" href="struct_file__args.html#a9aa177aea3a099397a09131a92f30115">hostname</a>)) == NULL) {  <span class="comment">// get the host info</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        g_print(<span class="stringliteral">&quot;ERROR: IRCInterface_Connect - gethostbyname\n&quot;</span>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// print information about this host:</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    g_print(<span class="stringliteral">&quot;Official name is: %s\n&quot;</span>, he-&gt;h_name);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    g_print(<span class="stringliteral">&quot;    IP addresses: &quot;</span>);</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    addr_list = (<span class="keyword">struct </span>in_addr **)he-&gt;h_addr_list;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span>(i = 0; addr_list[i] != NULL; i++) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        strcat(ip_addr,inet_ntoa(*addr_list[i]));</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        g_print(<span class="stringliteral">&quot;%s &quot;</span>, inet_ntoa(*addr_list[i]));</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    g_print(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    g_print(<span class="stringliteral">&quot;ip_addr: %s \n&quot;</span>,ip_addr); </div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keyword">struct </span>sockaddr_in server_struct;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    memset(&amp;server_struct, <span class="charliteral">&#39;0&#39;</span>, <span class="keyword">sizeof</span>(server_struct)); </div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    server_struct.sin_family = AF_INET;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    server_struct.sin_port = htons(file_args-&gt;<a class="code" href="struct_file__args.html#a83e78eb2ebacdc7e63eca61d1340fa61">port</a>);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">//server_struct.sin_port = file_args-&gt;port;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">//memset(&amp;(server_struct.sin_zero), &#39;\0&#39;, 8);</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    server_struct.sin_addr = **addr_list;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">//Socket</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    file_sockfd = socket(AF_INET,SOCK_STREAM,0);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (file_sockfd == -1){</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        g_print(<span class="stringliteral">&quot;Error creando socket\n&quot;</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">//Connect</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    g_print(<span class="stringliteral">&quot;Conectando con socket %d\n&quot;</span>,file_sockfd);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">int</span> cnct = connect(file_sockfd, (<span class="keyword">struct</span> sockaddr*)&amp;server_struct, <span class="keyword">sizeof</span>(server_struct));</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> (cnct==-1){</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                        <span class="keywordflow">switch</span>(errno){</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                <span class="keywordflow">case</span> EACCES:</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                printf(<span class="stringliteral">&quot;For UNIX domain sockets, which are identified by pathname: Write permission is denied on the socket file, or search permission is denied for one of the directories in the path prefix. (See also path_resolution(7).) \n&quot;</span>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                        printf(<span class="stringliteral">&quot;or The user tried to connect to a broadcast address without having the socket broadcast flag enabled or the connection request failed because of a local firewall rule.\n&quot;</span> );</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                                                        </div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                </div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                <span class="keywordflow">case</span> EPERM:</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                        printf(<span class="stringliteral">&quot;The user tried to connect to a broadcast address without having the socket broadcast flag enabled or the connection request failed because of a local firewall rule.\n&quot;</span>); </div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                <span class="keywordflow">case</span> EADDRINUSE:</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                printf(<span class="stringliteral">&quot;Local address is already in use. \n&quot;</span>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                <span class="keywordflow">case</span> EAFNOSUPPORT:</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                printf(<span class="stringliteral">&quot;The passed address didn&#39;t have the correct address family in its sa_family field. \n&quot;</span>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                <span class="keywordflow">case</span> EAGAIN:</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                                    printf(<span class="stringliteral">&quot;No more free local ports or insufficient entries in the routing cache. For AF_INET see the description of /proc/sys/net/ipv4/ip_local_port_range ip(7) for information on how to increase the number of local ports. \n&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                <span class="keywordflow">case</span> EALREADY:</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                    printf(<span class="stringliteral">&quot;The socket is nonblocking and a previous connection attempt has not yet been completed.\n&quot;</span>); </div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                <span class="keywordflow">case</span> EBADF:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                    printf(<span class="stringliteral">&quot;The file descriptor is not a valid index in the descriptor table.\n&quot;</span>); </div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                <span class="keywordflow">case</span> ECONNREFUSED:</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                    printf(<span class="stringliteral">&quot;No-one listening on the remote address. \n&quot;</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                                <span class="keywordflow">case</span> EFAULT:</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                    printf(<span class="stringliteral">&quot;The socket structure address is outside the user&#39;s address space. \n&quot;</span>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                <span class="keywordflow">case</span> EINPROGRESS:</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                                    printf(<span class="stringliteral">&quot;The socket is nonblocking and the connection cannot be completed immediately. It is possible to select(2) or poll(2) for completion by selecting the socket for writing. After select(2) indicates writability, use getsockopt(2) to read the SO_ERROR option at level SOL_SOCKET to determine whether connect() completed successfully (SO_ERROR is zero) or unsuccessfully (SO_ERROR is one of the usual error codes listed here, explaining the reason for the failure). \n&quot;</span>); </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                <span class="keywordflow">case</span> EINTR:</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                                    printf(<span class="stringliteral">&quot;The system call was interrupted by a signal that was caught; see signal(7).\n&quot;</span>); </div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                <span class="keywordflow">case</span> EISCONN:</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                    printf(<span class="stringliteral">&quot;The socket is already connected.\n&quot;</span>); </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                <span class="keywordflow">case</span> ENETUNREACH:</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                    printf(<span class="stringliteral">&quot;Network is unreachable. \n&quot;</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                <span class="keywordflow">case</span> ENOTSOCK:</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                    printf(<span class="stringliteral">&quot;The file descriptor is not associated with a socket.\n&quot;</span>); </div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                <span class="keywordflow">case</span> ETIMEDOUT:</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                    printf(<span class="stringliteral">&quot;Timeout while attempting connection. The server may be too busy to accept new connections. Note that for IP sockets the timeout may be very long when syncookies are enabled on the server.\n&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                        }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        g_print(<span class="stringliteral">&quot;Campos recibidos: hostname=%s, filename=%s, port=%d, length=%ld\n&quot;</span>,file_args-&gt;<a class="code" href="struct_file__args.html#a9aa177aea3a099397a09131a92f30115">hostname</a>, file_args-&gt;<a class="code" href="struct_file__args.html#ad24dfcb255f29ee677793a0051c7336b">filename</a>, file_args-&gt;<a class="code" href="struct_file__args.html#a83e78eb2ebacdc7e63eca61d1340fa61">port</a>, file_args-&gt;<a class="code" href="struct_file__args.html#a3168e8734e7ad263d88a6da49b4aff20">length</a>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        </div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="conexion__tcp_8h.html#a2ec2b47883bdb05804bec657bfc42516">recvDatos</a>(file_sockfd, message, <a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>, he-&gt;h_name);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        g_print(<span class="stringliteral">&quot;Estoy recibiendo datos\n&quot;</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        fputs(message, file);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="comment">//fwrite(message, 1, sizeof(message), file);</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        g_print(<span class="stringliteral">&quot;Algo paso...\n&quot;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="ttc" id="conexion__tcp_8h_html_a2ec2b47883bdb05804bec657bfc42516"><div class="ttname"><a href="conexion__tcp_8h.html#a2ec2b47883bdb05804bec657bfc42516">recvDatos</a></div><div class="ttdeci">int recvDatos(int client_sock, char *client_message, int cm_size, char *hostaddrp)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:54</div></div>
<div class="ttc" id="types_8h_html_ae7e715c270481406658bbd2bafa2897f"><div class="ttname"><a href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a></div><div class="ttdeci">#define MAXDATA</div><div class="ttdef"><b>Definition:</b> types.h:22</div></div>
<div class="ttc" id="struct_file__args_html_ad24dfcb255f29ee677793a0051c7336b"><div class="ttname"><a href="struct_file__args.html#ad24dfcb255f29ee677793a0051c7336b">File_args::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> aux_functions.h:28</div></div>
<div class="ttc" id="struct_file__args_html_a83e78eb2ebacdc7e63eca61d1340fa61"><div class="ttname"><a href="struct_file__args.html#a83e78eb2ebacdc7e63eca61d1340fa61">File_args::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition:</b> aux_functions.h:29</div></div>
<div class="ttc" id="struct_file__args_html_a9aa177aea3a099397a09131a92f30115"><div class="ttname"><a href="struct_file__args.html#a9aa177aea3a099397a09131a92f30115">File_args::hostname</a></div><div class="ttdeci">char * hostname</div><div class="ttdef"><b>Definition:</b> aux_functions.h:27</div></div>
<div class="ttc" id="struct_file__args_html_a3168e8734e7ad263d88a6da49b4aff20"><div class="ttname"><a href="struct_file__args.html#a3168e8734e7ad263d88a6da49b4aff20">File_args::length</a></div><div class="ttdeci">long unsigned int length</div><div class="ttdef"><b>Definition:</b> aux_functions.h:30</div></div>
<div class="ttc" id="struct_file__args_html"><div class="ttname"><a href="struct_file__args.html">File_args</a></div><div class="ttdef"><b>Definition:</b> aux_functions.h:26</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="aux__functions_8c_a9a7f9a514711f5954007dc83533d9362_cgraph.png" border="0" usemap="#aux__functions_8c_a9a7f9a514711f5954007dc83533d9362_cgraph" alt=""/></div>
<!-- MAP 5 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a20f32d171da437faef7716e4b6e667dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* strnext </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>haystack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Devuelve una cadena que empieza inmediatamente después de la cadena 'haystack' tras la primera aparición de 'ch'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">haystack</td><td>string original donde hacer la busqueda </td></tr>
    <tr><td class="paramname">ch</td><td>delimitador </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* substring con la cadena generada, NULL si no se ha encontrado 'ch' </dd></dl>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                     {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordtype">int</span> i, o_length;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordtype">char</span> *sep_at = strchr(haystack, ch);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        </div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span>(sep_at != NULL){</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                o_length = strlen(sep_at);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">for</span>(i=0; i&lt;strlen(sep_at); i++)</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        sep_at[i] = sep_at[i+1];</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                sep_at[o_length-1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> sep_at;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d3c58618c3bb95d81a542251062d19e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int testIRC_CommandQuery </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                       {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">switch</span>(IRC_CommandQuery(message)){</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">case</span> IRCERR_NOCOMMAND:</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">case</span> IRCERR_UNKNOWNCOMMAND:</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 8 2017 05:08:25 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
