<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>src/xchat2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">xchat2.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fichero con principalmente la implementación de los callbacks de xchat2.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="xchat2_8h_source.html">../includes/xchat2.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for xchat2.c:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c__incl.png" border="0" usemap="#src_2xchat2_8c" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a41f93f364aea303a0c93177289733f92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a> (char *message)</td></tr>
<tr class="memdesc:a41f93f364aea303a0c93177289733f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parsea los mensajes y respuestas que recibe del servidor.  <a href="#a41f93f364aea303a0c93177289733f92">More...</a><br /></td></tr>
<tr class="separator:a41f93f364aea303a0c93177289733f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98484e1bbb136d37503aa6c604eff6a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a98484e1bbb136d37503aa6c604eff6a2">glueAndQuery</a> (char *command, char *<a class="el" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>)</td></tr>
<tr class="separator:a98484e1bbb136d37503aa6c604eff6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f7dc08db4a2318cb526eee804709b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a63f7dc08db4a2318cb526eee804709b3">unpipe</a> (char *message, int MAXDATA_flag)</td></tr>
<tr class="memdesc:a63f7dc08db4a2318cb526eee804709b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcion para dividir en comandos la cadena "message".  <a href="#a63f7dc08db4a2318cb526eee804709b3">More...</a><br /></td></tr>
<tr class="separator:a63f7dc08db4a2318cb526eee804709b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7230d43b8458797c679e7180bf1fda90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a7230d43b8458797c679e7180bf1fda90">receive_messages</a> (void *no_arg)</td></tr>
<tr class="memdesc:a7230d43b8458797c679e7180bf1fda90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funcion ejecutada por un hilo, que recibe mensajes del servidor y los procesa segun el tipo de respuesta.  <a href="#a7230d43b8458797c679e7180bf1fda90">More...</a><br /></td></tr>
<tr class="separator:a7230d43b8458797c679e7180bf1fda90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f80a29a744e4182b29e23f13c1f05c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a33f80a29a744e4182b29e23f13c1f05c">IRCInterface_ActivateChannelKey</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a5892a9181e6a332f84d27aecd41dcd12">key</a>)</td></tr>
<tr class="separator:a33f80a29a744e4182b29e23f13c1f05c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a439929c246e342ae525139b2c39f5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a7a439929c246e342ae525139b2c39f5d">IRCInterface_ActivateExternalMessages</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a7a439929c246e342ae525139b2c39f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72762ab1e3575b421b967241db23f9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ac72762ab1e3575b421b967241db23f9c">IRCInterface_ActivateInvite</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:ac72762ab1e3575b421b967241db23f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af83498f4058311f4562c43a9b70566b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#af83498f4058311f4562c43a9b70566b2">IRCInterface_ActivateModerated</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:af83498f4058311f4562c43a9b70566b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5694cc413472173bfcaa969c7d9800e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ab5694cc413472173bfcaa969c7d9800e">IRCInterface_ActivateNicksLimit</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, int limit)</td></tr>
<tr class="separator:ab5694cc413472173bfcaa969c7d9800e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1f09c737c7c109a97e22de6072d731d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ab1f09c737c7c109a97e22de6072d731d">IRCInterface_ActivatePrivate</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:ab1f09c737c7c109a97e22de6072d731d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45f12d4dcacf3b5485eec6fdc51df93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ac45f12d4dcacf3b5485eec6fdc51df93">IRCInterface_ActivateProtectTopic</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:ac45f12d4dcacf3b5485eec6fdc51df93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e9155115b834d85a4d10cb27f99093"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#aa9e9155115b834d85a4d10cb27f99093">IRCInterface_ActivateSecret</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:aa9e9155115b834d85a4d10cb27f99093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42773b5a840f9d0455f148d285e1e595"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a42773b5a840f9d0455f148d285e1e595">IRCInterface_BanNick</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:a42773b5a840f9d0455f148d285e1e595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed072f4ce0d6e90697d4d6eb0278a2ad"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#aed072f4ce0d6e90697d4d6eb0278a2ad">IRCInterface_Connect</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a14871705f45ccdc5bb9f4549efd8e119">user</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a980ab011cd3d327b370c042833f1dc08">realname</a>, char *password, char *server, int port, boolean ssl)</td></tr>
<tr class="separator:aed072f4ce0d6e90697d4d6eb0278a2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e67ee0cd384b524d57fda14593dce8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a3e67ee0cd384b524d57fda14593dce8e">IRCInterface_DeactivateChannelKey</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a3e67ee0cd384b524d57fda14593dce8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638b1535f4ecbc9a6affb2df2a6a946e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a638b1535f4ecbc9a6affb2df2a6a946e">IRCInterface_DeactivateExternalMessages</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a638b1535f4ecbc9a6affb2df2a6a946e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba4e98a3729737aa63ebec54ba4e894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a9ba4e98a3729737aa63ebec54ba4e894">IRCInterface_DeactivateInvite</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a9ba4e98a3729737aa63ebec54ba4e894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab760e8144b38f6c14bd809d157cee5d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ab760e8144b38f6c14bd809d157cee5d4">IRCInterface_DeactivateModerated</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:ab760e8144b38f6c14bd809d157cee5d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c8cfbe2e14e19277e1c97d11719e80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a92c8cfbe2e14e19277e1c97d11719e80">IRCInterface_DeactivateNicksLimit</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a92c8cfbe2e14e19277e1c97d11719e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6141803691ba327f11ba763ad075d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a8a6141803691ba327f11ba763ad075d4">IRCInterface_DeactivatePrivate</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a8a6141803691ba327f11ba763ad075d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a57541a950f8c2c40b4b44c32b28ed9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a5a57541a950f8c2c40b4b44c32b28ed9">IRCInterface_DeactivateProtectTopic</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a5a57541a950f8c2c40b4b44c32b28ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4956427664cabc7d5b2bd1589a207324"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a4956427664cabc7d5b2bd1589a207324">IRCInterface_DeactivateSecret</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>)</td></tr>
<tr class="separator:a4956427664cabc7d5b2bd1589a207324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf0424ef7f845be79a056e9aed56fe2"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a8bf0424ef7f845be79a056e9aed56fe2">IRCInterface_DisconnectServer</a> (char *server, int port)</td></tr>
<tr class="separator:a8bf0424ef7f845be79a056e9aed56fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab431412191716f751461f94d613ffdab"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ab431412191716f751461f94d613ffdab">IRCInterface_ExitAudioChat</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:ab431412191716f751461f94d613ffdab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae075029bb55e8b995f22beb0810674f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ae075029bb55e8b995f22beb0810674f4">IRCInterface_GiveOp</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:ae075029bb55e8b995f22beb0810674f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9effb4bdaf4a2cdf2dd9edbeb90b430"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ae9effb4bdaf4a2cdf2dd9edbeb90b430">IRCInterface_GiveVoice</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:ae9effb4bdaf4a2cdf2dd9edbeb90b430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7adfea400a96160585f86179bafb055f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a7adfea400a96160585f86179bafb055f">IRCInterface_KickNick</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:a7adfea400a96160585f86179bafb055f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214e10b19c8be028fb35d2a7abf3f798"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a214e10b19c8be028fb35d2a7abf3f798">IRCInterface_NewCommandText</a> (char *command)</td></tr>
<tr class="separator:a214e10b19c8be028fb35d2a7abf3f798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080cf34ff506481737f6d08af60ca92b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a080cf34ff506481737f6d08af60ca92b">IRCInterface_NewTopicEnter</a> (char *topicdata)</td></tr>
<tr class="separator:a080cf34ff506481737f6d08af60ca92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100f1c87bb3b399a7284e62dd2e6172a"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a100f1c87bb3b399a7284e62dd2e6172a">IRCInterface_SendFile</a> (char *filename, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, char *data, long unsigned int length)</td></tr>
<tr class="separator:a100f1c87bb3b399a7284e62dd2e6172a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc7a44587e609b416a783cd420a12e3"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a5dc7a44587e609b416a783cd420a12e3">IRCInterface_StartAudioChat</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:a5dc7a44587e609b416a783cd420a12e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754a3d3dd311194637c07cc701e7d507"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a754a3d3dd311194637c07cc701e7d507">IRCInterface_StopAudioChat</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:a754a3d3dd311194637c07cc701e7d507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2a1ea75e59306142030a91a054b7e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a4e2a1ea75e59306142030a91a054b7e6">IRCInterface_TakeOp</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:a4e2a1ea75e59306142030a91a054b7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff2e10ed1cb1a399293b6f76ac1e5ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a2ff2e10ed1cb1a399293b6f76ac1e5ae">IRCInterface_TakeVoice</a> (char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, char *<a class="el" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>)</td></tr>
<tr class="separator:a2ff2e10ed1cb1a399293b6f76ac1e5ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a53497b00bd1ff0270ca7a108d5794dbc"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a53497b00bd1ff0270ca7a108d5794dbc">loglock</a></td></tr>
<tr class="memdesc:a53497b00bd1ff0270ca7a108d5794dbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declaracion del Mutex para el descriptor de fichero del log. Siempre tiene que ser definida en el source princpal.  <a href="#a53497b00bd1ff0270ca7a108d5794dbc">More...</a><br /></td></tr>
<tr class="separator:a53497b00bd1ff0270ca7a108d5794dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5efd1efa144e252f4c5312ae57bea2e"><td class="memItemLeft" align="right" valign="top">pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ab5efd1efa144e252f4c5312ae57bea2e">recv_tid</a></td></tr>
<tr class="separator:ab5efd1efa144e252f4c5312ae57bea2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a808d33eb5e54db312802ea4b22189ef3"><td class="memItemLeft" align="right" valign="top">pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a808d33eb5e54db312802ea4b22189ef3">sendf_tid</a></td></tr>
<tr class="separator:a808d33eb5e54db312802ea4b22189ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd63fb8dbd9439219e2db08dfc173aa0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a> = -1</td></tr>
<tr class="separator:acd63fb8dbd9439219e2db08dfc173aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e2f32e47f3780a66e19651d8e79bced"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a> [<a class="el" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>] = {0}</td></tr>
<tr class="separator:a7e2f32e47f3780a66e19651d8e79bced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af203df082d5c6dcaa0c88b07cf86466d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#af203df082d5c6dcaa0c88b07cf86466d">hostname</a></td></tr>
<tr class="separator:af203df082d5c6dcaa0c88b07cf86466d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568595cf14231c912fd7ab15a324bd16"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a> = NULL</td></tr>
<tr class="separator:a568595cf14231c912fd7ab15a324bd16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d1a6f1c3b6a02b439ca0b9e8434420"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a98d1a6f1c3b6a02b439ca0b9e8434420">stream</a></td></tr>
<tr class="separator:a98d1a6f1c3b6a02b439ca0b9e8434420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738cdcabc13fa13e8263986fe5d0fc28"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a738cdcabc13fa13e8263986fe5d0fc28">host_name</a> [128]</td></tr>
<tr class="separator:a738cdcabc13fa13e8263986fe5d0fc28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e304440b657a8d3265793203cb12393"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a> [256] = &quot;&quot;</td></tr>
<tr class="separator:a4e304440b657a8d3265793203cb12393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d1f3c86702bf2ea990065ad3293d10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a> = 0</td></tr>
<tr class="separator:ad1d1f3c86702bf2ea990065ad3293d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7872bff8c54fa63dccefb6916f983928"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> = <a class="el" href="types_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></td></tr>
<tr class="separator:a7872bff8c54fa63dccefb6916f983928"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Fichero con principalmente la implementación de los callbacks de xchat2. </p>
<dl class="section author"><dt>Author</dt><dd>Alfonso Sebares </dd>
<dd>
Beatriz de Pablo </dd>
<dd>
Celia Mateos </dd></dl>
<dl class="section date"><dt>Date</dt><dd>20/03/17 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a41f93f364aea303a0c93177289733f92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int command_query </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parsea los mensajes y respuestas que recibe del servidor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">massage</td><td>mensaje recibido para procesar </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK si todo fue correcto y ERR si ocurrio un error </dd></dl>
<p>&lt; delimitador para separar mensajes </p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordtype">long</span> ret = -1;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordtype">int</span> retorno = -1;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#ad2849cf781a4db22cc1b31eaaee50a4f">prefix</a> = NULL;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordtype">int</span> n = -1;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordtype">int</span> counter = 1;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">char</span> mensaje[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>] = {0};</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">char</span> mensajeLargo[10*<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>] = {0};</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a> = NULL;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a> = NULL;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">char</span> *nick2 = NULL;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">//002</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">char</span> *servername = NULL;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordtype">char</span> *versionname = NULL;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="comment">//003</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordtype">char</span> *timedate = NULL;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="comment">//004</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordtype">char</span>* version = NULL;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordtype">char</span>* availableusermodes = NULL;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordtype">char</span>* availablechannelmodes = NULL;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordtype">char</span>* addedg = NULL;    </div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment">//251</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordtype">int</span> nusers = 0;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordtype">int</span> ninvisibles = 0;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="keywordtype">int</span> nservers = 0;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordtype">char</span> *type = NULL;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="comment">//char **parameters = NULL;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment">//int numparameters = 0;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="comment">//265</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordtype">char</span> *substring = NULL;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="comment">//322</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordtype">char</span> *visible = NULL;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="comment">//332</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#affecb48e716753e10b44feac31f12529">topic</a> = NULL;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a> = NULL;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">//353</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="comment">//char* show_nick;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="comment">//JOIN</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">char</span>* <a class="code" href="_g-2361-06-_p1-_server_8c.html#a5892a9181e6a332f84d27aecd41dcd12">key</a> = NULL;       </div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordtype">char</span> command[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>];</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">//PRIVMSG</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordtype">char</span>* <a class="code" href="_g-2361-06-_p1-_server_8c.html#a968dcc7e43caeca7959f3c069dcccc6a">msgtarget</a> = NULL;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordtype">char</span>* origin_nick = NULL;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordtype">char</span> nick_privmsg[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>];</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordtype">char</span> *filename = NULL, *hostname_destino = NULL;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> length, port;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="comment">//PART</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordtype">char</span>* nick_part;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordtype">char</span>* username_part;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordtype">char</span>* host_part;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordtype">char</span>* server_part;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="comment">//PING</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordtype">char</span>* server, *<a class="code" href="_g-2361-06-_p1-_server_8c.html#a70dd311bef3d0b4160a7ce0706f8f4cc">server2</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordtype">char</span>* command_pong;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="comment">//Strtok</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> s[2] = <span class="stringliteral">&quot;:&quot;</span>; </div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordtype">char</span> *token = NULL;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">//472</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="keywordtype">char</span> *modechar = NULL;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="comment">//MODE</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#a55a7bd8f3229706c5917445aba995c5b">channeluser</a> = NULL;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordtype">char</span> *mode = NULL;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#a14871705f45ccdc5bb9f4549efd8e119">user</a> = NULL;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">//KICK</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordtype">char</span> *comment = NULL;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment">//QUIT</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordtype">char</span> **channelsQuit;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordtype">int</span> numChannelsQuit;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment">//char* realname, *host;</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="comment">//GENERAL</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordtype">char</span> **params;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordtype">int</span> n_params;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordtype">int</span> unknw_type;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> space_delim[2] = <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordtype">char</span> *message_cp = NULL;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">//g_print(&quot;Mesaje recibido en command_query: %s&quot;, message);</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">        if(message == NULL) {</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">                g_print(RED &quot;ERROR - In command_query: message == NULL al principio\n\n&quot; RESET);</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">                return ERR;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        IRCInterface_PlaneRegisterInMessage(message);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">switch</span>(IRC_CommandQuery(message)){</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="keywordflow">case</span> RPL_WELCOME: <span class="comment">//001</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        ret = IRCParse_RplWelcome(message, &amp;prefix, &amp;nick2, &amp;msg);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case RPL_WELCOME - IRCParse_RplWelcome != IRC_OK&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                        }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_RplWelcome: \n&quot;</span>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick2: %s \n&quot;</span>,nick2);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        <span class="comment">//obtenemos el hostname, util para el envio de ficheros</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        <a class="code" href="xchat2_8c.html#af203df082d5c6dcaa0c88b07cf86466d">hostname</a> = strtok(msg, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        <span class="keywordflow">while</span> (((<a class="code" href="xchat2_8c.html#af203df082d5c6dcaa0c88b07cf86466d">hostname</a> = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>)) != NULL) &amp;&amp; (counter &lt; 5)){</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                counter++;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        <a class="code" href="xchat2_8c.html#af203df082d5c6dcaa0c88b07cf86466d">hostname</a> = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        g_print(<span class="stringliteral">&quot;\t hostname: %s \n\n&quot;</span>, <a class="code" href="xchat2_8c.html#af203df082d5c6dcaa0c88b07cf86466d">hostname</a>);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>, msg);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">case</span> RPL_YOURHOST:      <span class="comment">//002</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        <span class="comment">//long IRCParse_RplYourHost (char *strin, char **prefix, char **nick, char **msg, char **servername, char **versionname)</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                        ret = IRCParse_RplYourHost(message, &amp;prefix, &amp;nick2, &amp;msg, &amp;servername, &amp;versionname);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case RPL_YOURHOST - IRCParse_RplYourHost != IRC_OK&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_RplYourHost: \n&quot;</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick2: %s \n&quot;</span>,nick2);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        g_print(<span class="stringliteral">&quot;\t servername: %s \n&quot;</span>,servername);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        g_print(<span class="stringliteral">&quot;\t versionname: %s \n&quot;</span>,versionname);           </div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,msg);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">case</span> RPL_CREATED:<span class="comment">//003                  </span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="comment">//long IRCParse_RplCreated (char *strin, char **prefix, char **nick,char **timedate, char **msg)</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                        ret = IRCParse_RplCreated(message, &amp;prefix, &amp;nick2, &amp;timedate, &amp;msg);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case RPL_CREATED - IRCParse_RplCreated != IRC_OK&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                        }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_RplCreated: \n&quot;</span>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick2: %s \n&quot;</span>,nick2);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        g_print(<span class="stringliteral">&quot;\t timedate: %s \n&quot;</span>,timedate); </div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,msg);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <span class="keywordflow">case</span> RPL_MYINFO: <span class="comment">//004</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                        <span class="comment">//long IRCParse_RplMyInfo (char *strin, char **prefix, char **nick, char **servername, char **version, char **availableusermodes, char **availablechannelmodes, char **addedg)</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        ret = IRCParse_RplMyInfo(message, &amp;prefix, &amp;nick2, &amp;servername, &amp;version, &amp;availableusermodes, &amp;availablechannelmodes, &amp;addedg);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case RPL_MYINFO - IRCParse_RplMyInfo != IRC_OK&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                        }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_RplMyInfo: \n&quot;</span>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick2: %s \n&quot;</span>,nick2);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        g_print(<span class="stringliteral">&quot;\t servername: %s \n&quot;</span>,servername);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        g_print(<span class="stringliteral">&quot;\t version: %s \n&quot;</span>,version);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                        g_print(<span class="stringliteral">&quot;\t availableusermodes: %s \n&quot;</span>,availableusermodes);     </div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                        g_print(<span class="stringliteral">&quot;\t availablechannelmodes: %s \n&quot;</span>,availablechannelmodes);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        g_print(<span class="stringliteral">&quot;\t addedg: %s \n\n&quot;</span>,addedg);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                        n = snprintf(mensaje, <span class="keyword">sizeof</span> mensaje,<span class="stringliteral">&quot;%s %s %s %s %s &quot;</span>,servername,version,availableusermodes,availablechannelmodes,addedg);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        <span class="keywordflow">if</span> ( n &lt; 0 || n &gt;= <span class="keyword">sizeof</span> mensaje ){</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                g_print(<span class="stringliteral">&quot;Error en sprintf \n&quot;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;    <span class="comment">// or other error handling</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,mensaje);             </div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="keywordflow">case</span> RPL_BOUNCE: <span class="comment">//005</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        <span class="comment">//   long IRCParse_RplISupport (char *strin, char **prefix, char **nick, char **msg)                                            </span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        ret = IRCParse_RplISupport(message, &amp;prefix, &amp;nick2, &amp;msg);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case RPL_BOUNCE -IRCParse_RplISupport != IRC_OK&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_RplISupport: \n&quot;</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick2: %s \n&quot;</span>,nick2);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,msg);         </div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <span class="keywordflow">case</span> RPL_LUSERCLIENT: <span class="comment">//251</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        <span class="comment">//long IRCParse_RplLuserClient (char *strin, char **prefix, char **nick, char **msg, int *nusers, int *ninvisibles, int *nservers)</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                        </div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                        ret = IRCParse_RplLuserClient(message, &amp;prefix, &amp;nick2, &amp;msg, &amp;nusers, &amp;ninvisibles, &amp;nservers);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case RPL_LUSERCLIENT -IRCParse_RplLuserClient != IRC_OK&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                        }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick2: %s \n&quot;</span>,nick2);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n&quot;</span>,msg);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nusers: %d \n&quot;</span>,nusers);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        g_print(<span class="stringliteral">&quot;\t ninvisibles: %d \n&quot;</span>,ninvisibles);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nservers: %d \n\n&quot;</span>,nservers); </div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        <span class="comment">/*ret_strstr = strstr(mensaje,&quot;nicknick&quot;);</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">                        IRCInterface_WriteSystem(&quot;*&quot;,ret_strstr);*/</span> </div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        sprintf(mensaje,<span class="stringliteral">&quot;There are %d users and %d invisibles on %d servers &quot;</span>,nusers,ninvisibles,nservers);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        <span class="comment">//sprintf(mensaje,&quot;There are 13 users and 0 services on 1 servers&quot;);</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,mensaje);                                                                                                     </div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        </div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <span class="keywordflow">case</span> RPL_LUSERCHANNELS: <span class="comment">//254</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        <span class="comment">/*Coger el primer token*/</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        token = strtok(message,s);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        <span class="comment">/*Ir por el resto*/</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                        <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                token = strtok(NULL,s); </div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                        }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,token);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        token = NULL;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                        <span class="comment">//IRCInterface_WriteSystem(&quot;*&quot;,message);        </span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">case</span> RPL_LUSERME : <span class="comment">//255</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                        <span class="comment">/*Coger el primer token*/</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                        token = strtok(message,s);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                        <span class="comment">/*Ir por el resto*/</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                        <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                token = strtok(NULL,s); </div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                        }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,token);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                        token = NULL;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                        <span class="comment">//IRCInterface_WriteSystem(&quot;*&quot;,message);        </span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <span class="keywordflow">case</span> RPL_LOCALUSERS: <span class="comment">//265</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                        substring = <a class="code" href="aux__functions_8h.html#a20f32d171da437faef7716e4b6e667dd">strnext</a>(message, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                        <span class="keywordflow">if</span> (substring){</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                substring = <a class="code" href="aux__functions_8h.html#a20f32d171da437faef7716e4b6e667dd">strnext</a>(substring, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        }</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,substring);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        substring = NULL;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">case</span> RPL_GLOBALUSERS: <span class="comment">//266</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_GLOBALUSERS - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        substring = <a class="code" href="aux__functions_8h.html#a20f32d171da437faef7716e4b6e667dd">strnext</a>(message, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                        <span class="keywordflow">if</span> (substring){</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                substring = <a class="code" href="aux__functions_8h.html#a20f32d171da437faef7716e4b6e667dd">strnext</a>(substring, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,substring);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        substring = NULL;               </div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">case</span> RPL_LISTSTART: <span class="comment">//321</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_LISTSTART - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        token = strtok(message,s);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                token = strtok(NULL,s); </div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                        }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,token);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">case</span> RPL_LIST: <span class="comment">//322</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        <span class="comment">//   long IRCParse_RplList (char *strin, char **prefix, char **nick, char **channel, char **visible, char **topic)</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_LIST - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        ret = IRCParse_RplList(message, &amp;prefix, &amp;nick2, &amp;channel, &amp;visible, &amp;topic);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case RPL_LIST - IRCParse_RplList != IRC_OK&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                        }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_RplList: \n&quot;</span>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick2: %s \n&quot;</span>,nick2);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                        g_print(<span class="stringliteral">&quot;\t visible: %s \n&quot;</span>,visible);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                        g_print(<span class="stringliteral">&quot;\t topic: %s \n\n&quot;</span>,topic);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        sprintf(mensajeLargo,<span class="stringliteral">&quot;%s \t %s \t %s&quot;</span>,channel,visible,topic);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        g_print(<span class="stringliteral">&quot;Mensaje creado: %s \n\n&quot;</span>,mensajeLargo);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,mensajeLargo);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                        <a class="code" href="aux__functions_8h.html#a2480cc4793bf25a16cc731dc9d033582">mfree</a>(5,prefix,nick2,channel,visible,topic);    </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">case</span> RPL_LISTEND: <span class="comment">//323</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_LISTEND - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                        <span class="comment">/*Coger el primer token*/</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        token = strtok(message,s);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                        <span class="comment">/*Ir por el resto*/</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                        <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                token = strtok(NULL,s); </div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                        }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,token);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                        token = NULL;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                        <span class="comment">//IRCInterface_WriteSystem(&quot;*&quot;,message);                        </span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="keywordflow">case</span> RPL_WHOREPLY: <span class="comment">//352</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_WHOREPLY - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">case</span> RPL_MOTDSTART: <span class="comment">//375</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                        <span class="comment">/*Coger el primer token*/</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                        token = strtok(message,s);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                        <span class="comment">/*Ir por el resto*/</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                        <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                token = strtok(NULL,s); </div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,token);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                        token = NULL;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        <span class="comment">//IRCInterface_WriteSystem(&quot;*&quot;,message);                        </span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="keywordflow">case</span> RPL_MOTD: <span class="comment">//372</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                        <span class="comment">/*Coger el primer token*/</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                        token = strtok(message,s);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                        <span class="comment">/*Ir por el resto*/</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                token = strtok(NULL,s); </div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                        }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,token);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                        token = NULL;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                        <span class="comment">//IRCInterface_WriteSystem(&quot;*&quot;,message);                </span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">case</span> RPL_ENDOFMOTD: <span class="comment">//376</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                        <span class="comment">/*Coger el primer token*/</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                        token = strtok(message,s);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        <span class="comment">/*Ir por el resto*/</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                        <span class="keywordflow">if</span>(token != NULL){</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                token = strtok(NULL,s); </div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,token);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        token = NULL;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                        <span class="comment">//IRCInterface_WriteSystem(&quot;*&quot;,message);        </span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                        <span class="keywordflow">return</span> 19;<span class="comment">//cambiar por un define</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <span class="keywordflow">case</span> RPL_TOPIC: <span class="comment">//332</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_TOPIC - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        <span class="comment">//g_print(&quot;\n=======CASE RPL_TOPIC=======\n&quot;);</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        <span class="comment">//IRCParse_RplTopic (char *strin, char **prefix, char **nick, char **nick2, char **channel, char **msg)</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        ret = IRCParse_RplTopic(message, &amp;prefix, &amp;nick, &amp;channel, &amp;topic);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In command_query: case RPL_TOPIC - IRCParse_RplTopic devolvio != IRC_OK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick: %s \n&quot;</span>,nick);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        g_print(<span class="stringliteral">&quot;\t topic: %s \n\n&quot;</span>,topic);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                        sprintf(mensaje,<span class="stringliteral">&quot;El topic para %s es %s &quot;</span>,channel,topic);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                        g_print(<span class="stringliteral">&quot;Mensaje: %s \n&quot;</span>,mensaje);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                        g_print(<span class="stringliteral">&quot;Existe canal: %d \n&quot;</span>, IRCInterface_QueryChannelExistThread(channel));</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channel,<span class="stringliteral">&quot;*&quot;</span>,mensaje);    </div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <span class="keywordflow">case</span> RPL_AWAY: <span class="comment">//306</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_AWAY - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                        <span class="comment">//&gt;&gt; :irc.eps.net 306 gomupo :You have been marked as being away</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        IRCParse_RplAway (message, &amp;prefix, &amp;nick, &amp;nick2, &amp;msg);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,msg);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">case</span> TOPIC: <span class="comment">//332</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] TOPIC - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        <span class="comment">//   long IRCParse_Topic (char *strin, char **prefix, char **channel, char **topic)</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        ret = IRCParse_Topic (message, &amp;prefix, &amp;channel, &amp;topic);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In command_query: case TOPIC - IRCParse_Topic devolvio != IRC_OK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                        }</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                        g_print(<span class="stringliteral">&quot;\t topic: %s \n\n&quot;</span>,topic);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                        sprintf(mensaje,<span class="stringliteral">&quot;El topic para %s es %s \n&quot;</span>,channel,topic);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                        g_print(<span class="stringliteral">&quot;Mensaje: %s \n&quot;</span>,mensaje);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        g_print(<span class="stringliteral">&quot;Existe canal: %d \n&quot;</span>, IRCInterface_QueryChannelExistThread(channel));</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channel,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                <span class="keywordflow">case</span> RPL_NOTOPIC:</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">case</span> RPL_TOPICWHOTIME: <span class="comment">//333</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                        <span class="keywordflow">break</span>;  </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                <span class="keywordflow">case</span> RPL_NAMREPLY: <span class="comment">//353 - reply del servidor de de punames()</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_NAMREPLY - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                        <span class="comment">//long IRCParse_RplNamReply (char *strin, char **prefix, char **nick, char **type, char **channel, char **msg)</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                        ret = IRCParse_RplNamReply(message, &amp;prefix, &amp;nick, &amp;type, &amp;channel, &amp;msg);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In command_query: case RPL_NAMREPLY - IRCParse_RplNamReply devolvio != IRC_OK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                        }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick: %s \n&quot;</span>,nick);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                        g_print(<span class="stringliteral">&quot;\t type: %s \n&quot;</span>,type);                                                         </div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                        <span class="comment">//Ojo, que pasa si es names?? sin join</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        <span class="comment">//Añadir los nicks a la ventana de lad erecha. Pillarlos del WHO que se envía </span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                        <span class="comment">//despues del join.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                        <span class="comment">//OJO es una prueba del funcionamineto de IRCInterface_AddNickChannel,</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        <span class="comment">//los nicks deberían de ser partidos mediante uso strtok o algo parecido</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                        <span class="comment">//IRCInterface_AddNickChannel (channel, msg, msg, msg, msg, VOICE);</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                        <span class="comment">//sprintf(mensaje,&quot;Usuarios en %s: %s&quot;,channel,msg);</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                        <span class="comment">//IRCInterface_WriteChannelThread(channel,&quot;*&quot;,mensaje);</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                        <a class="code" href="aux__functions_8h.html#a09c2fcb81e148a2f23080a1671869f96">interface_mostrar_nicks</a>(channel,msg);   </div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">case</span> RPL_ENDOFNAMES: <span class="comment">//366</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                        g_print(<span class="stringliteral">&quot;Mensaje recibido en RPL_ENDOFNAMES: \n&quot;</span>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                        <span class="comment">//long IRCParse_RplEndOfNames (char *strin, char **prefix, char **nick, char **channel, char **msg)</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                        ret = IRCParse_RplEndOfNames(message, &amp;prefix, &amp;nick2, &amp;channel, &amp;msg);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In command_query: case RPL_ENDOFNAMES - IRCParse_RplEndOfNames devolvio != IRC_OK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                                <span class="comment">//return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                        }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick: %s \n&quot;</span>,nick);                                                 </div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                        <span class="comment">//IRCInterface_WriteChannelThread(channel,&quot;*&quot;,msg);</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="keywordflow">case</span> JOIN:</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] JOIN - message = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, message);</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                        g_print(<a class="code" href="types_8h.html#af54a5a977c0c499323d656315f008ee0">MAG</a> <span class="stringliteral">&quot;\nJOIN es %ld con IRC_CommandQuery\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, IRC_CommandQuery(message));</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                        g_print(<a class="code" href="types_8h.html#af54a5a977c0c499323d656315f008ee0">MAG</a> <span class="stringliteral">&quot;\nJOIN es %ld con IRCUser_CommandQuery\n&quot;</span> RESET, IRCUser_CommandQuery(message));</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                        ret = IRCParse_Join (message, &amp;prefix, &amp;channel, &amp;key, &amp;msg);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: JOIN - IRCParse_Join devolvio error\n&quot;</span> RESET);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                        }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_Join: \n&quot;</span>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                        g_print(<span class="stringliteral">&quot;\t key: %s \n&quot;</span>,key);</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                        IRCInterface_AddNewChannelThread(msg, 0);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                        IRCParse_ComplexUser(prefix, &amp;nick_part, &amp;username_part, &amp;host_part, &amp;server_part);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                        sprintf(mensaje, <span class="stringliteral">&quot;%s (%s) se ha unido al canal&quot;</span>, nick_part, prefix);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                        <span class="keywordflow">if</span>(!strcmp(<a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>, nick_part)){</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                IRCInterface_WriteChannelThread(msg,<span class="stringliteral">&quot;*&quot;</span>, <span class="stringliteral">&quot;Bienvenido al canal&quot;</span>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                IRCInterface_WriteChannelThread(msg,<span class="stringliteral">&quot;*&quot;</span>, mensaje);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                        <span class="comment">//Actualizar al lista de usuarios</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                        sprintf(mensaje,<span class="stringliteral">&quot;/names %s&quot;</span>,msg);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                        retorno = <a class="code" href="user__commands_8h.html#abaae116595df34db33e65e3d9d225103">punames</a>(mensaje);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                        <span class="keywordflow">if</span>(retorno == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                g_print(<span class="stringliteral">&quot;ERROR - JOIN - punames&quot;</span>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;                             </div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">case</span> NAMES:</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] NAMES - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\nNo hay nada aquí, revisar (?)&quot;</span> RESET);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">case</span> PRIVMSG:</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] PRIVMSG - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                        ret = IRCParse_Privmsg(message, &amp;prefix, &amp;msgtarget, &amp;msg);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: IRCParse_Privmsg devolvio != IRC_OK&quot;</span> RESET);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                        }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                        <span class="comment">//&gt;&gt; :gomupo!~gonzalo@119.181.218.87.dynamic.jazztel.es PRIVMSG gon :hola</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                        <span class="keywordflow">if</span> ((origin_nick = strtok(prefix, <span class="stringliteral">&quot;!&quot;</span>)) != NULL){</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                strcpy(nick_privmsg, origin_nick);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick_privmsg: %s \n&quot;</span>,nick_privmsg);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msgtarget: %s \n&quot;</span>,msgtarget);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                        <span class="keywordflow">if</span>(msg[0] == 1 || (msg[0] == <span class="charliteral">&#39;:&#39;</span> || msg[1] == 1)) { <span class="comment">//envio de ficheros</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                g_print(<span class="stringliteral">&quot;alguien quiere enviarme un fichero\n&quot;</span>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                <span class="comment">//char *msg = &quot;\001FSEND gato.jpg ~cgs@cliente168.wlan.uam.es 1234 24422&quot;;</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                </div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                                filename = strtok(msg, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                                filename = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                hostname_destino = strtok(NULL, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                                port = (<span class="keywordtype">unsigned</span> long) atol(strtok(NULL, <span class="stringliteral">&quot; &quot;</span>));</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                length = (<span class="keywordtype">unsigned</span> long) atol(strtok(NULL, <span class="stringliteral">&quot; &quot;</span>));</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                                g_print(<span class="stringliteral">&quot;filename: %s \n&quot;</span>,filename);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                                g_print(<span class="stringliteral">&quot;hostname_destino: %s \n&quot;</span>,hostname_destino);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                g_print(<span class="stringliteral">&quot;length: %ld \n&quot;</span>,length);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                g_print(<span class="stringliteral">&quot;port: %ld \n&quot;</span>,port);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                <span class="keywordflow">if</span>(IRCInterface_ReceiveDialogThread(<a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>, filename) == TRUE){</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                        g_print(<span class="stringliteral">&quot;Lanzamos el hilo que guarda el archivo\n&quot;</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                        <span class="comment">//pthread_t tid;</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                                        <a class="code" href="struct_file__args.html">File_args</a> args;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                                        args.<a class="code" href="struct_file__args.html#a9aa177aea3a099397a09131a92f30115">hostname</a> = hostname_destino;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                        args.<a class="code" href="struct_file__args.html#ad24dfcb255f29ee677793a0051c7336b">filename</a> = filename;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                                        args.<a class="code" href="struct_file__args.html#a83e78eb2ebacdc7e63eca61d1340fa61">port</a> = port;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                        args.<a class="code" href="struct_file__args.html#a3168e8734e7ad263d88a6da49b4aff20">length</a> = length;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                                        <span class="keywordflow">if</span>(pthread_create( &amp;<a class="code" href="xchat2_8c.html#a808d33eb5e54db312802ea4b22189ef3">sendf_tid</a>, NULL, (<span class="keywordtype">void</span>*) <a class="code" href="aux__functions_8h.html#a9a7f9a514711f5954007dc83533d9362">save_file</a>, (<span class="keywordtype">void</span>*) &amp;args) &lt; 0){</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                        g_print(<span class="stringliteral">&quot;Error en la llamada a save_file\n&quot;</span>);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                                        }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                                <span class="comment">/*</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">                                if (sscanf(msg, &quot;\001AUDIOCHAT %ms %li&quot;, &amp;hostname_destino, &amp;port) &gt; 0) {</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">                                        g_print(&quot;host=%s, port=%li\n&quot;, hostname_destino, port);</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">                                } else{</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">                                        g_print(&quot;Formato incorrecto en envio de fichero\n&quot;);</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">                                }*/</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                ret = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(<a class="code" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a>, command, strlen(command));</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                <span class="keywordflow">if</span>(ret &lt; 0){</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In command_query: case PRIVMSG - enviarDatos() devolvio error (ver secuencia en .log)\n\t\tEl cliente se cerrará.\n&quot;</span> RESET);</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                        exit(1);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                                }</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                                <span class="keywordflow">if</span>(ret == 0){ <span class="comment">//timeout </span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In command_query: case PRIVMSG - enviarDatos() mandó 0 Bytes(ver secuencia en .log)\n\t\t(Timeout de conexión probablemente)\n&quot;</span> RESET);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                        exit(1);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                        }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                        <span class="keywordflow">if</span>(msgtarget[0] != <span class="charliteral">&#39;#&#39;</span>){<span class="comment">//no grupo</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                                IRCInterface_AddNewChannelThread(nick_privmsg, 0);                              </div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(nick_privmsg, nick_privmsg, msg);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                        }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                        <span class="comment">//IRCInterface_WriteChannelThread(msgtarget, nick_privmsg, msg);</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(msgtarget, nick_privmsg, msg);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                <span class="keywordflow">case</span> PART:</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] PART - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        ret = IRCParse_Part (message, &amp;prefix, &amp;channel, &amp;msg);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case PART - IRCParse_Part devolvio != IRC_OK&quot;</span> RESET);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_PART: \n&quot;</span>);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        IRCParse_ComplexUser(prefix, &amp;nick_part, &amp;username_part, &amp;host_part, &amp;server_part);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                        IRCInterface_DeleteNickChannelThread(channel, nick_part);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                        sprintf(mensaje, <span class="stringliteral">&quot;El usuario %s ha salido del grupo (%s)&quot;</span>,nick_part, msg);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channel,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                        <span class="keywordflow">if</span>(strcmp(<a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>, nick_part) == 0){</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                                IRCInterface_RemoveChannelThread(channel);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                                sprintf(mensaje,<span class="stringliteral">&quot;/names %s&quot;</span>,channel);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                retorno = <a class="code" href="user__commands_8h.html#abaae116595df34db33e65e3d9d225103">punames</a>(mensaje);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                                <span class="keywordflow">if</span>(retorno == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                                        g_print(<span class="stringliteral">&quot;ERROR - JOIN - punames&quot;</span>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;                             </div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                                }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                        }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">case</span> NOTICE:</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                        <span class="comment">//g_print(&quot;\n=======CASE NOTICE=======\n&quot;);</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] NOTICE - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        IRCParse_Notice(message, &amp;prefix, &amp;msgtarget, &amp;msg);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                        g_print(<span class="stringliteral">&quot;prefix = %s\n&quot;</span>, prefix);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                        g_print(<span class="stringliteral">&quot;msgtarget = %s\n&quot;</span>, msgtarget);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        g_print(<span class="stringliteral">&quot;msg = %s\n&quot;</span>, msg);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                        <span class="comment">//comentado de momento, se asume que es &#39;NOTICE AUTH&#39;</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                        <span class="comment">/*</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">                        if((!strcmp(msgtarget, nick_user)) &amp;&amp; (strcmp(prefix,&quot;irc.eps.net&quot;) != 0)) {</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">                                IRCParse_ComplexUser(prefix, &amp;nick_part, &amp;username_part, &amp;host_part, &amp;server_part);                             </span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">                                sprintf(mensaje, &quot;&gt;%s&lt;&quot;, nick_part);</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">                                IRCInterface_AddNewChannelThread(nick_part, 0);</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">                                IRCInterface_WriteChannelThread (nick_part,mensaje,msg);</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">                        } else if(msgtarget[0] == &#39;#&#39;){</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">                                IRCParse_ComplexUser(prefix, &amp;nick_part, &amp;username_part, &amp;host_part, &amp;server_part);</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">                                sprintf(mensaje, &quot;&gt;%s/%s&lt;&quot;, nick_part, msgtarget);</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">                                IRCInterface_AddNewChannelThread(msgtarget, 0);</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">                                IRCInterface_WriteChannelThread (msgtarget,mensaje,msg);</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">                        } else {//AUTH                  </span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">                                IRCInterface_WriteSystemThread (&quot;*&quot;,msg);</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">                        }</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">                        */</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        <span class="comment">//IRCInterface_WriteSystemThread(&quot;*&quot;,msg);</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                <span class="keywordflow">case</span> PING:</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] PING - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                        <span class="comment">//:irc.eps.net PONG irc.eps.net :LAG1460877705692323</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                        IRCParse_Ping (message, &amp;prefix, &amp;server, &amp;server2, &amp;msg);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        g_print(<span class="stringliteral">&quot;\t server: %s \n&quot;</span>,server);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        g_print(<span class="stringliteral">&quot;\t server2: %s \n&quot;</span>,server2);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        IRCMsg_Pong(&amp;command_pong, prefix?prefix:<a class="code" href="xchat2_8c.html#af203df082d5c6dcaa0c88b07cf86466d">hostname</a>, server?server:<span class="stringliteral">&quot;&quot;</span>, server2?server2:<span class="stringliteral">&quot;&quot;</span>, msg?msg:<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                        <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(<a class="code" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a>, command_pong, strlen(command_pong));</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;Pong enviado\n&quot;</span> RESET);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                        IRCInterface_PlaneRegisterOutMessageThread(command_pong);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">case</span> KICK:</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] KICK - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                        <span class="comment">//long IRCParse_Kick (char *strin, char **prefix, char **channel, char **user, char **comment)</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        ret = IRCParse_Kick(message, &amp;prefix, &amp;channel, &amp;user, &amp;comment);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case KICK - IRCParse_Kick devolvio != IRC_OK&quot;</span> RESET);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                        }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                        g_print(<span class="stringliteral">&quot;\t user: %s \n&quot;</span>,user);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                        g_print(<span class="stringliteral">&quot;\t comment: %s \n\n&quot;</span>,comment);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        sprintf(mensaje,<span class="stringliteral">&quot;%s Ha sido echado de %s con mensaje/motivo(%s)&quot;</span>,user, channel, comment);</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                        </div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                        g_print(<span class="stringliteral">&quot;Mensaje: %s \n&quot;</span>,mensaje);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channel,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                        <span class="comment">//Actualizar al lista de usuarios</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                        IRCInterface_DeleteNickChannelThread (channel, user);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                        <span class="keywordflow">if</span>(!strcmp(<a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>,user)){</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                                IRCInterface_RemoveChannelThread(channel);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                        }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                        <span class="comment">/*memset(mensaje,0,MAXDATA);</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">                        sprintf(mensaje,&quot;/names %s&quot;,channel);</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">                        retorno = punames(mensaje);</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">                        if(retorno == ERR){</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">                                g_print(&quot;ERROR - MODE - punames&quot;);</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">                                return ERR;                             </span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">                        } */</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                <span class="keywordflow">case</span> ERR_UNKNOWNMODE: <span class="comment">//472</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] ERR_UNKNOWNMODE - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                        <span class="comment">//      long IRCParse_ErrUnknownMode (char *strin, char **prefix, char **nick, char **modechar, char **channel, char **msg)</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                        ret = IRCParse_ErrUnknownMode(message, &amp;prefix, &amp;nick, &amp;modechar, &amp;channel, &amp;msg);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case ERR_UNKNOWNMODE - IRCParse_ErrUnknownMode != IRC_OK&quot;</span> RESET);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                <span class="comment">//return -1;</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                        }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_ErrUnknownMode: \n&quot;</span>);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick: %s \n&quot;</span>,nick);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                        g_print(<span class="stringliteral">&quot;\t modechar: %s \n&quot;</span>,nick);                                             </div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);         </div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                        sprintf(mensaje,<span class="stringliteral">&quot;%s %s\n&quot;</span>,channel,msg);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channel,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordflow">case</span> MODE: <span class="comment">//</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] MODE - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        <span class="comment">//    long IRCParse_Mode (char *strin, char **prefix, char **channeluser, char **mode, char **user)</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                        ret = IRCParse_Mode(message, &amp;prefix, &amp;channeluser, &amp;mode, &amp;user);</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case MODE - IRCParse_Mode != IRC_OK&quot;</span> RESET);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                        }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channeluser: %s \n&quot;</span>,channeluser);</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                        g_print(<span class="stringliteral">&quot;\t mode: %s \n&quot;</span>,mode);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                        g_print(<span class="stringliteral">&quot;\t user: %s \n\n&quot;</span>,user);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                        nick = strtok(prefix,<span class="stringliteral">&quot;!&quot;</span>); <span class="comment">//Coger el usuario que ha mandando el mode</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                        <span class="keywordflow">if</span>(user != NULL){ <span class="comment">//Modo usuario</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                                <span class="comment">//Comprobar si es k o l </span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                                <span class="keywordflow">if</span>(strcasecmp(mode,<span class="stringliteral">&quot;+k&quot;</span>) == 0){</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                                        sprintf(mensaje,<span class="stringliteral">&quot;%s establece contraseña del canal %s como: %s &quot;</span>,nick, channeluser, user);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                                        g_print(<span class="stringliteral">&quot;Mensaje: %s \n&quot;</span>,mensaje);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channeluser,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                        <span class="keywordflow">break</span>;          </div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(strcasecmp(mode,<span class="stringliteral">&quot;+l&quot;</span>) == 0){</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                        sprintf(mensaje,<span class="stringliteral">&quot;%s establece límite del canal %s a %s usuarios&quot;</span>,nick, channeluser, user);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                                        g_print(<span class="stringliteral">&quot;Mensaje: %s \n&quot;</span>,mensaje);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channeluser,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                                        <span class="keywordflow">break</span>;                                          </div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                                }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                                sprintf(mensaje,<span class="stringliteral">&quot;%s establece el modo %s al usuario %s en el canal %s &quot;</span>,nick, mode, user, channeluser);</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                                g_print(<span class="stringliteral">&quot;Mensaje: %s \n&quot;</span>,mensaje);</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                                <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channeluser,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                <span class="comment">/* No funciona IRCInterface_ChangeNickStateChannel :(</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">                                if(strcasecmp(mode,&quot;+o&quot;) == 0){</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">                                        g_print(&quot;modo op\n&quot;);</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">                                        IRCInterface_ChangeNickStateChannel (channeluser, nick, OPERATOR);</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">                                }else if(strcasecmp(mode,&quot;+v&quot;) == 0){</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">                                        g_print(&quot;modo voice\n&quot;);</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">                                        IRCInterface_ChangeNickStateChannel (channeluser, nick, VOICE);</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">                                }else{</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">                                        g_print(&quot;else otro modo\n&quot;);*/</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                                        <span class="comment">//Actualizar al lista de usuarios</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                                        </div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                                        memset(mensaje,0,<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                        sprintf(mensaje,<span class="stringliteral">&quot;/names %s&quot;</span>,channeluser);</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                        retorno = <a class="code" href="user__commands_8h.html#abaae116595df34db33e65e3d9d225103">punames</a>(mensaje);</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                                        <span class="keywordflow">if</span>(retorno == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                                                g_print(<span class="stringliteral">&quot;ERROR - MODE - punames&quot;</span>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                                                <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;                             </div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                        }                                       </div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                <span class="comment">//}                             </span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                                sprintf(mensaje,<span class="stringliteral">&quot;%s establece modo %s %s &quot;</span>, nick, channeluser, mode);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                g_print(<span class="stringliteral">&quot;Mensaje: %s \n&quot;</span>,mensaje);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                                <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channeluser,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        }                       </div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                <span class="keywordflow">case</span> INVITE:                    </div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] INVITE - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,message);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                <span class="keywordflow">case</span> NICK:</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] NICK - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                        <span class="comment">//&lt;&lt; NICK gomupo2</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                        <span class="comment">//&gt;&gt; :gomupo!~gonzalo@cliente020.wlan.uam.es NICK :gomupo2</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                        IRCParse_Nick (message, &amp;prefix, &amp;nick, &amp;msg);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                        IRCParse_ComplexUser(prefix, &amp;nick_part, &amp;username_part, &amp;host_part, &amp;server_part);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick: %s \n&quot;</span>,nick); <span class="comment">//esta a null</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n&quot;</span>,msg); <span class="comment">//el nick viene aqui</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                        IRCInterface_ChangeNickThread(nick_part, msg);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                        sprintf(mensaje, <span class="stringliteral">&quot;%s ahora es conocido como %s&quot;</span>, nick_part, msg);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                        <span class="keywordflow">if</span>(!strcmp(nick_part, <a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>)){</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                                strcpy(<a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>,msg);                  </div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                        }</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                        <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,mensaje);     </div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                        g_print(<span class="stringliteral">&quot;new nick: %s\n&quot;</span>, msg);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <span class="keywordflow">case</span> QUIT:</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                        <span class="comment">/*</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">                        * Enfoque 1: Cuando alguien sale (QUIT del servidor)</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">                        *       Obtener la lista de canales abiertos -&gt; &#39;/names&#39; en cada canal -&gt; Capturar reply del servidor:</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">                        *       353 -&gt; interface_mostrar_nicks(channel,msg); (se actualizan todas las listas de chats abiertos)</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">                        *</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">                        */</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] QUIT - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        </div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                        IRCParse_Quit (message, &amp;prefix, &amp;msg);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                        IRCParse_ComplexUser(prefix, &amp;nick_part, &amp;username_part, &amp;host_part, &amp;server_part);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n&quot;</span>,msg);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                        sprintf(mensaje, <span class="stringliteral">&quot;%s se ha desconectado (%s)&quot;</span>, nick_part, msg);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                        IRCInterface_WriteSystemThread(<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                        IRCInterface_ListAllChannelsThread(&amp;channelsQuit, &amp;numChannelsQuit);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                        <span class="keywordflow">for</span>(i=0; i&lt;numChannelsQuit; i++){</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                                sprintf(mensaje,<span class="stringliteral">&quot;/names %s&quot;</span>,channelsQuit[i]);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                                retorno = <a class="code" href="user__commands_8h.html#abaae116595df34db33e65e3d9d225103">punames</a>(mensaje);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                                <span class="keywordflow">if</span>(retorno == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                                        g_print(<span class="stringliteral">&quot;ERROR - JOIN - punames&quot;</span>);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;                             </div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                                }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                        }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                <span class="keywordflow">case</span> RPL_CHANNELMODEIS: <span class="comment">//324   </span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] RPL_CHANNELMODEIS - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                        <span class="comment">//long IRCParse_RplChannelModeIs(char *strin, char **prefix, char **nick, char **channel, char **modetxt)</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                        <span class="comment">/*ret = IRCParse_RplChannelModeIs(message, &amp;prefix, &amp;channeluser, &amp;mode, &amp;user);</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">                        if(ret != IRC_OK){</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">                                g_print(&quot;ERROR: IRCInterface_Connect - IRCParse_RplTopic\n&quot;);</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">                                return ERR;</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">                        }</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">                        g_print(&quot;\t message: %s \n&quot;,message);</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">                        g_print(&quot;\t prefix: %s \n&quot;,prefix);</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">                        g_print(&quot;\t channeluser: %s \n&quot;,channeluser);</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">                        g_print(&quot;\t mode: %s \n&quot;,mode);</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">                        g_print(&quot;\t user: %s \n\n&quot;,user);</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">                        sprintf(mensaje,&quot;%s establece modo %s %s &quot;, user, channeluser, mode);</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">                        </span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">                        g_print(&quot;Mensaje: %s \n&quot;,mensaje);</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">                        IRCInterface_WriteChannelThread(channeluser,&quot;*&quot;,mensaje);*/</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                        <span class="comment">//Actualizar al lista de usuarios</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                        <span class="keywordflow">break</span>;  </div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                <span class="keywordflow">case</span> ERR_CHANOPRIVSNEEDED: <span class="comment">//482</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] ERR_CHANOPRIVSNEEDED - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                        <span class="comment">//   long IRCParse_ErrChanOPrivsNeeded (char *strin, char **prefix, char **nick, char **channel, char **msg)</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                        ret = IRCParse_ErrChanOPrivsNeeded(message, &amp;prefix, &amp;nick, &amp;channel, &amp;msg);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: case ERR_CHANOPRIVSNEEDED - IRCParse_ErrChanOPrivsNeeded != IRC_OK&quot;</span> RESET);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                                <span class="comment">//return ERR;</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                        }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                        g_print(<span class="stringliteral">&quot;Comandos recibidos en el IRCParse_ErrChanOPrivsNeeded: \n&quot;</span>);</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                        g_print(<span class="stringliteral">&quot;\t message: %s \n&quot;</span>,message);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                        g_print(<span class="stringliteral">&quot;\t prefix: %s \n&quot;</span>,prefix);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                        g_print(<span class="stringliteral">&quot;\t nick: %s \n&quot;</span>,nick);                 </div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                        g_print(<span class="stringliteral">&quot;\t channel: %s \n&quot;</span>,channel);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                        g_print(<span class="stringliteral">&quot;\t msg: %s \n\n&quot;</span>,msg);         </div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        sprintf(mensaje,<span class="stringliteral">&quot;%s %s\n&quot;</span>,channel,msg);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        <a class="code" href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a>(channel,<span class="stringliteral">&quot;*&quot;</span>,mensaje);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                <span class="comment">/*TRATAMIENTO DE ERRORES*/</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                <span class="keywordflow">case</span> IRCERR_NOCOMMAND:</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: Mensaje de error recibido en switch():\n\tIRCERR_NOCOMMAND -  no hay ningún comando en la cadena de caracteres\n&quot;</span> RESET);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                        IRCInterface_WriteSystemThread(<span class="stringliteral">&quot;*&quot;</span>,message);</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="keywordflow">case</span> IRCERR_NOPARAMS:</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;\nERROR - In command_query: Mensaje de error recibido en switch():\n\tIRCERR_NOPARAMS -  se ha introducido una cadena de caracteres nula\n&quot;</span> RESET);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                        IRCInterface_WriteSystemThread(<span class="stringliteral">&quot;*&quot;</span>,message);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                <span class="keywordflow">case</span> IRCERR_UNKNOWNCOMMAND:</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                        <span class="comment">//g_print(MAG&quot;\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n&quot;RESET);</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                        <span class="comment">//ret =  IRCParse_GeneralCommand (message, &amp;prefix, &amp;type, &amp;params, &amp;n_params, &amp;msg);</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                        <span class="comment">/*Intenta hacer un parseo apra un type no soportado por IRC_CommandQuery()*/</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        unknw_type = <a class="code" href="aux__functions_8h.html#a90798d5fe15fdd743f8802b0f154b854">parse_type</a>(message);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                        <span class="keywordflow">if</span>(unknw_type != <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                <span class="keywordflow">switch</span>(unknw_type){ <span class="comment">//Intentar tratar un mensaje no reconocido por IRC_CommandQuery() </span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                                        <span class="keywordflow">case</span> 250:</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                                                g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;\n&gt;&gt; [server command] unknw_type = 250 - message = %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                                substring = <a class="code" href="aux__functions_8h.html#a20f32d171da437faef7716e4b6e667dd">strnext</a>(message, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                                                <span class="keywordflow">if</span> (substring){</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                                                        substring = <a class="code" href="aux__functions_8h.html#a20f32d171da437faef7716e4b6e667dd">strnext</a>(substring, <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                                                }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                                                <a class="code" href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a>(<span class="stringliteral">&quot;*&quot;</span>,substring);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                                                substring = NULL;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                        g_print(<a class="code" href="types_8h.html#a96fac03c4ab3363f06a0328e0e53a40c">YEL</a> <span class="stringliteral">&quot;WARN - In command_query: case IRCERR_UNKNOWNCOMMAND:\n\tNo se ha definido un tratamiento para un mensaje desconocido con type = %d\n&quot;</span> RESET, unknw_type);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                        IRCInterface_WriteSystemThread(<span class="stringliteral">&quot;*&quot;</span>,message);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                                }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                                <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                        }</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                        g_print(<a class="code" href="types_8h.html#a96fac03c4ab3363f06a0328e0e53a40c">YEL</a> <span class="stringliteral">&quot;WARN - In command_query: Mensaje de error recibido en switch():\n\tIRCERR_UNKNOWNCOMMAND -  l comando que contiene no es reconocido por esta función.\n&quot;</span> RESET);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        IRCInterface_WriteSystemThread(<span class="stringliteral">&quot;*&quot;</span>,message);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                        g_print(<a class="code" href="types_8h.html#a96fac03c4ab3363f06a0328e0e53a40c">YEL</a> <span class="stringliteral">&quot;WARN - In command_query: Alcanzado default del switch()(TO_DO):\n\t %s\n&quot;</span> RESET, message);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                        <span class="comment">//sprintf(aux,&quot;[%s] %s&quot;,gmtime(time(NULL)), nick)</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                        IRCInterface_WriteSystemThread(<span class="stringliteral">&quot;*&quot;</span>,message);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        }</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="comment">//Liberamos memoria</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <span class="comment">//mfree(33,msg,nick,nick2,servername,versionname,timedate,version,availableusermodes,availablechannelmodes,addedg,type,visible,topic,channel,key,</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <span class="comment">//msgtarget,origin_nick,filename,hostname_destino,nick_part,username_part,host_part,server_part,server,server2,command_pong,token,modechar,channeluser,</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="comment">//mode,user,comment,realname,host);</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;}</div><div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a55a7bd8f3229706c5917445aba995c5b"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a55a7bd8f3229706c5917445aba995c5b">channeluser</a></div><div class="ttdeci">char * channeluser</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:34</div></div>
<div class="ttc" id="xchat2_8c_html_a808d33eb5e54db312802ea4b22189ef3"><div class="ttname"><a href="xchat2_8c.html#a808d33eb5e54db312802ea4b22189ef3">sendf_tid</a></div><div class="ttdeci">pthread_t sendf_tid</div><div class="ttdef"><b>Definition:</b> xchat2.c:20</div></div>
<div class="ttc" id="xchat2_8c_html_af203df082d5c6dcaa0c88b07cf86466d"><div class="ttname"><a href="xchat2_8c.html#af203df082d5c6dcaa0c88b07cf86466d">hostname</a></div><div class="ttdeci">char * hostname</div><div class="ttdef"><b>Definition:</b> xchat2.c:24</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a14871705f45ccdc5bb9f4549efd8e119"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a14871705f45ccdc5bb9f4549efd8e119">user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:22</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a5892a9181e6a332f84d27aecd41dcd12"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a5892a9181e6a332f84d27aecd41dcd12">key</a></div><div class="ttdeci">char * key</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:29</div></div>
<div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="aux__functions_8h_html_a6400bb2b7979a2393f0e84b6646a24fe"><div class="ttname"><a href="aux__functions_8h.html#a6400bb2b7979a2393f0e84b6646a24fe">IRCInterface_WriteChannelThread_Pretty</a></div><div class="ttdeci">void IRCInterface_WriteChannelThread_Pretty(char *chan, char *nick, char *msg)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:282</div></div>
<div class="ttc" id="aux__functions_8h_html_a20f32d171da437faef7716e4b6e667dd"><div class="ttname"><a href="aux__functions_8h.html#a20f32d171da437faef7716e4b6e667dd">strnext</a></div><div class="ttdeci">char * strnext(char *haystack, int ch)</div><div class="ttdoc">Devuelve una cadena que empieza inmediatamente después de la cadena &amp;#39;haystack&amp;#39; tras la primera aparic...</div><div class="ttdef"><b>Definition:</b> aux_functions.c:200</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a32d2f5216cddb59c7cc8fb2806a7e727"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a32d2f5216cddb59c7cc8fb2806a7e727">msg</a></div><div class="ttdeci">char * msg</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:21</div></div>
<div class="ttc" id="xchat2_8c_html_a7e2f32e47f3780a66e19651d8e79bced"><div class="ttname"><a href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a></div><div class="ttdeci">char nick_user[MAXDATA]</div><div class="ttdef"><b>Definition:</b> xchat2.c:23</div></div>
<div class="ttc" id="types_8h_html_a96fac03c4ab3363f06a0328e0e53a40c"><div class="ttname"><a href="types_8h.html#a96fac03c4ab3363f06a0328e0e53a40c">YEL</a></div><div class="ttdeci">#define YEL</div><div class="ttdef"><b>Definition:</b> types.h:28</div></div>
<div class="ttc" id="aux__functions_8h_html_a2480cc4793bf25a16cc731dc9d033582"><div class="ttname"><a href="aux__functions_8h.html#a2480cc4793bf25a16cc731dc9d033582">mfree</a></div><div class="ttdeci">void mfree(int n,...)</div><div class="ttdoc">Libera punteros si estos no estan a NULL Uso. </div><div class="ttdef"><b>Definition:</b> aux_functions.c:20</div></div>
<div class="ttc" id="types_8h_html_aea69ffbacdcdf16c21b8c9961df84448"><div class="ttname"><a href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a></div><div class="ttdeci">#define GRN</div><div class="ttdef"><b>Definition:</b> types.h:27</div></div>
<div class="ttc" id="aux__functions_8h_html_a90798d5fe15fdd743f8802b0f154b854"><div class="ttname"><a href="aux__functions_8h.html#a90798d5fe15fdd743f8802b0f154b854">parse_type</a></div><div class="ttdeci">int parse_type(const char *message)</div><div class="ttdoc">Devuelve el tipo de comando (código 3 digitos) de un mensaje no reconocido por IRC_CommandQuery() ...</div><div class="ttdef"><b>Definition:</b> aux_functions.c:219</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_affecb48e716753e10b44feac31f12529"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#affecb48e716753e10b44feac31f12529">topic</a></div><div class="ttdeci">char * topic</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:33</div></div>
<div class="ttc" id="types_8h_html_ae7e715c270481406658bbd2bafa2897f"><div class="ttname"><a href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a></div><div class="ttdeci">#define MAXDATA</div><div class="ttdef"><b>Definition:</b> types.h:22</div></div>
<div class="ttc" id="struct_file__args_html_ad24dfcb255f29ee677793a0051c7336b"><div class="ttname"><a href="struct_file__args.html#ad24dfcb255f29ee677793a0051c7336b">File_args::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdef"><b>Definition:</b> aux_functions.h:28</div></div>
<div class="ttc" id="struct_file__args_html_a83e78eb2ebacdc7e63eca61d1340fa61"><div class="ttname"><a href="struct_file__args.html#a83e78eb2ebacdc7e63eca61d1340fa61">File_args::port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition:</b> aux_functions.h:29</div></div>
<div class="ttc" id="xchat2_8c_html_acd63fb8dbd9439219e2db08dfc173aa0"><div class="ttname"><a href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a></div><div class="ttdeci">int sockfd_user</div><div class="ttdef"><b>Definition:</b> xchat2.c:22</div></div>
<div class="ttc" id="struct_file__args_html_a9aa177aea3a099397a09131a92f30115"><div class="ttname"><a href="struct_file__args.html#a9aa177aea3a099397a09131a92f30115">File_args::hostname</a></div><div class="ttdeci">char * hostname</div><div class="ttdef"><b>Definition:</b> aux_functions.h:27</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a968dcc7e43caeca7959f3c069dcccc6a"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a968dcc7e43caeca7959f3c069dcccc6a">msgtarget</a></div><div class="ttdeci">char * msgtarget</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:32</div></div>
<div class="ttc" id="aux__functions_8h_html_a9a7f9a514711f5954007dc83533d9362"><div class="ttname"><a href="aux__functions_8h.html#a9a7f9a514711f5954007dc83533d9362">save_file</a></div><div class="ttdeci">int save_file(void *args)</div><div class="ttdoc">Establece la conexíon con el servidor de archivos para recibir los datos y escribirlos en un fichero...</div><div class="ttdef"><b>Definition:</b> aux_functions.c:39</div></div>
<div class="ttc" id="struct_file__args_html_a3168e8734e7ad263d88a6da49b4aff20"><div class="ttname"><a href="struct_file__args.html#a3168e8734e7ad263d88a6da49b4aff20">File_args::length</a></div><div class="ttdeci">long unsigned int length</div><div class="ttdef"><b>Definition:</b> aux_functions.h:30</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_ad2849cf781a4db22cc1b31eaaee50a4f"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#ad2849cf781a4db22cc1b31eaaee50a4f">prefix</a></div><div class="ttdeci">char * prefix</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:19</div></div>
<div class="ttc" id="conexion__tcp_8h_html_ab9468ce1338cfca5736ab407ba155f55"><div class="ttname"><a href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a></div><div class="ttdeci">int enviarDatos(int client_sock, char *message, int message_size)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:83</div></div>
<div class="ttc" id="aux__functions_8h_html_a09c2fcb81e148a2f23080a1671869f96"><div class="ttname"><a href="aux__functions_8h.html#a09c2fcb81e148a2f23080a1671869f96">interface_mostrar_nicks</a></div><div class="ttdeci">void interface_mostrar_nicks(char *channel, char *list)</div><div class="ttdoc">Actualiza la lista de nicks de la interfaz y sus estados. </div><div class="ttdef"><b>Definition:</b> aux_functions.c:161</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="struct_file__args_html"><div class="ttname"><a href="struct_file__args.html">File_args</a></div><div class="ttdef"><b>Definition:</b> aux_functions.h:26</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a70dd311bef3d0b4160a7ce0706f8f4cc"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a70dd311bef3d0b4160a7ce0706f8f4cc">server2</a></div><div class="ttdeci">char * server2</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:27</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="user__commands_8h_html_abaae116595df34db33e65e3d9d225103"><div class="ttname"><a href="user__commands_8h.html#abaae116595df34db33e65e3d9d225103">punames</a></div><div class="ttdeci">int punames(char *command)</div><div class="ttdoc">Comando de usuario NAMES. </div><div class="ttdef"><b>Definition:</b> user_commands.c:74</div></div>
<div class="ttc" id="aux__functions_8h_html_a043ae6695458ae3a85dc9da43cf9b751"><div class="ttname"><a href="aux__functions_8h.html#a043ae6695458ae3a85dc9da43cf9b751">IRCInterface_WriteSystemThread_Pretty</a></div><div class="ttdeci">void IRCInterface_WriteSystemThread_Pretty(char *nick, char *msg)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:261</div></div>
<div class="ttc" id="types_8h_html_af54a5a977c0c499323d656315f008ee0"><div class="ttname"><a href="types_8h.html#af54a5a977c0c499323d656315f008ee0">MAG</a></div><div class="ttdeci">#define MAG</div><div class="ttdef"><b>Definition:</b> types.h:30</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a41f93f364aea303a0c93177289733f92_cgraph.png" border="0" usemap="#xchat2_8c_a41f93f364aea303a0c93177289733f92_cgraph" alt=""/></div>
<!-- MAP 1 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a98484e1bbb136d37503aa6c604eff6a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void glueAndQuery </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>last_command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                                                    {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordtype">char</span>* glued_command = (<span class="keywordtype">char</span>*) malloc((2 + strlen(command) + strlen(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>)) * <span class="keyword">sizeof</span>(char));</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        </div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        strcpy(glued_command, <a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        strcat(glued_command, command);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nglued_command = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, glued_command);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(glued_command);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        free(command);</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        free(glued_command);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="xchat2_8c_html_a41f93f364aea303a0c93177289733f92"><div class="ttname"><a href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a></div><div class="ttdeci">int command_query(char *message)</div><div class="ttdoc">Parsea los mensajes y respuestas que recibe del servidor. </div><div class="ttdef"><b>Definition:</b> xchat2.c:40</div></div>
<div class="ttc" id="xchat2_8c_html_a4e304440b657a8d3265793203cb12393"><div class="ttname"><a href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a></div><div class="ttdeci">char last_command[256]</div><div class="ttdef"><b>Definition:</b> xchat2.c:31</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a98484e1bbb136d37503aa6c604eff6a2_cgraph.png" border="0" usemap="#xchat2_8c_a98484e1bbb136d37503aa6c604eff6a2_cgraph" alt=""/></div>
<!-- MAP 2 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a33f80a29a744e4182b29e23f13c1f05c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivateChannelKey </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;{</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="_g-2361-06-_p1-_server_8c.html#a7451f0d59207b53af6178219fcf62677">modo</a>[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>] = {0};</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivateChannelKey(char *channel, char *key) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        sprintf(modo,<span class="stringliteral">&quot;+k %s&quot;</span>,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a5892a9181e6a332f84d27aecd41dcd12">key</a>);</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, modo) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivateChannelKey: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;}</div><div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a5892a9181e6a332f84d27aecd41dcd12"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a5892a9181e6a332f84d27aecd41dcd12">key</a></div><div class="ttdeci">char * key</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:29</div></div>
<div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="types_8h_html_ae7e715c270481406658bbd2bafa2897f"><div class="ttname"><a href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a></div><div class="ttdeci">#define MAXDATA</div><div class="ttdef"><b>Definition:</b> types.h:22</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a7451f0d59207b53af6178219fcf62677"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a7451f0d59207b53af6178219fcf62677">modo</a></div><div class="ttdeci">char * modo</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:35</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a33f80a29a744e4182b29e23f13c1f05c_cgraph.png" border="0" usemap="#xchat2_8c_a33f80a29a744e4182b29e23f13c1f05c_cgraph" alt=""/></div>
<!-- MAP 3 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a439929c246e342ae525139b2c39f5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivateExternalMessages </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;{</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivateExternalMessages(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;+n&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivateExternalMessages: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a7a439929c246e342ae525139b2c39f5d_cgraph.png" border="0" usemap="#xchat2_8c_a7a439929c246e342ae525139b2c39f5d_cgraph" alt=""/></div>
<!-- MAP 4 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ac72762ab1e3575b421b967241db23f9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivateInvite </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;{</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivateInvite(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;+i&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivateInvite: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_ac72762ab1e3575b421b967241db23f9c_cgraph.png" border="0" usemap="#xchat2_8c_ac72762ab1e3575b421b967241db23f9c_cgraph" alt=""/></div>
<!-- MAP 5 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="af83498f4058311f4562c43a9b70566b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivateModerated </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;{</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivateModerated(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;+m&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivateModerated: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_af83498f4058311f4562c43a9b70566b2_cgraph.png" border="0" usemap="#xchat2_8c_af83498f4058311f4562c43a9b70566b2_cgraph" alt=""/></div>
<!-- MAP 6 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ab5694cc413472173bfcaa969c7d9800e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivateNicksLimit </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;{</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <span class="keywordtype">char</span> mode[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>] = {0};</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivateNicksLimit(char *channel, int limit) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        sprintf(mode,<span class="stringliteral">&quot;+l %d&quot;</span>,limit);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, mode) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivateNicksLimit: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="types_8h_html_ae7e715c270481406658bbd2bafa2897f"><div class="ttname"><a href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a></div><div class="ttdeci">#define MAXDATA</div><div class="ttdef"><b>Definition:</b> types.h:22</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_ab5694cc413472173bfcaa969c7d9800e_cgraph.png" border="0" usemap="#xchat2_8c_ab5694cc413472173bfcaa969c7d9800e_cgraph" alt=""/></div>
<!-- MAP 7 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ab1f09c737c7c109a97e22de6072d731d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivatePrivate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;{</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivatePrivate(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;+p&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivatePrivate: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_ab1f09c737c7c109a97e22de6072d731d_cgraph.png" border="0" usemap="#xchat2_8c_ab1f09c737c7c109a97e22de6072d731d_cgraph" alt=""/></div>
<!-- MAP 8 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ac45f12d4dcacf3b5485eec6fdc51df93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivateProtectTopic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;{</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivateProtectTopic(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;+t&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivateProtectTopic: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_ac45f12d4dcacf3b5485eec6fdc51df93_cgraph.png" border="0" usemap="#xchat2_8c_ac45f12d4dcacf3b5485eec6fdc51df93_cgraph" alt=""/></div>
<!-- MAP 9 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="aa9e9155115b834d85a4d10cb27f99093"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_ActivateSecret </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;{</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ActivateSecret(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;+s&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_ActivateSecret: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_aa9e9155115b834d85a4d10cb27f99093_cgraph.png" border="0" usemap="#xchat2_8c_aa9e9155115b834d85a4d10cb27f99093_cgraph" alt=""/></div>
<!-- MAP 10 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a42773b5a840f9d0455f148d285e1e595"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_BanNick </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;{</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_BanNick(char *channel, char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, <span class="stringliteral">&quot;+b&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_BanNick: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a42773b5a840f9d0455f148d285e1e595_cgraph.png" border="0" usemap="#xchat2_8c_a42773b5a840f9d0455f148d285e1e595_cgraph" alt=""/></div>
<!-- MAP 11 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="aed072f4ce0d6e90697d4d6eb0278a2ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long IRCInterface_Connect </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>realname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>ssl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;{</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="keywordtype">int</span> optval = 1;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        <span class="keywordtype">long</span> ret = -1;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordtype">int</span> retorno = -1;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordtype">char</span> *command = NULL;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#ad2849cf781a4db22cc1b31eaaee50a4f">prefix</a> = NULL;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <span class="keywordtype">int</span> sockfd = -1;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        <span class="keyword">struct </span>hostent *he;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <span class="keyword">struct </span>in_addr **addr_list;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordtype">int</span> i=0;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    <span class="keywordtype">char</span> ip_addr[INET_ADDRSTRLEN] = {0};</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <span class="keywordtype">char</span> *msgNick = NULL;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <span class="keywordtype">char</span> mode[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>] = {0};</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        g_print(<span class="stringliteral">&quot;IRCInterface_Connect - Datos introducidos por el usuario \n&quot;</span>);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        g_print(<span class="stringliteral">&quot;\t nick: %s \n&quot;</span>,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        g_print(<span class="stringliteral">&quot;\t user: %s \n&quot;</span>,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a14871705f45ccdc5bb9f4549efd8e119">user</a>);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        g_print(<span class="stringliteral">&quot;\t realname: %s \n&quot;</span>,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a980ab011cd3d327b370c042833f1dc08">realname</a>);</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        g_print(<span class="stringliteral">&quot;\t password: %s \n&quot;</span>,password);</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        g_print(<span class="stringliteral">&quot;\t server: %s \n&quot;</span>,server);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        g_print(<span class="stringliteral">&quot;\t port: %d \n&quot;</span>,port);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        g_print(<span class="stringliteral">&quot;\t ssl: %d \n&quot;</span>,ssl);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">if</span> ((he = gethostbyname(server)) == NULL) {  <span class="comment">// get the host info</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: gethostbyname() devol NULL\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    }</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="comment">// print information about this host:</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    g_print(<span class="stringliteral">&quot;Official name is: %s\n&quot;</span>, he-&gt;h_name);</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    g_print(<span class="stringliteral">&quot;    IP addresses: &quot;</span>);</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    addr_list = (<span class="keyword">struct </span>in_addr **)he-&gt;h_addr_list;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">for</span>(i = 0; addr_list[i] != NULL; i++) {</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        strcat(ip_addr,inet_ntoa(*addr_list[i]));</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        g_print(<span class="stringliteral">&quot;%s &quot;</span>, inet_ntoa(*addr_list[i]));</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    }</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    g_print(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    g_print(<span class="stringliteral">&quot;ip_addr: %s \n&quot;</span>,ip_addr);</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keyword">struct </span>sockaddr_in server_struct;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="comment">/*Socket*/</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    sockfd = socket(AF_INET,SOCK_STREAM,0<span class="comment">/*TCP*/</span>);</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="keywordflow">if</span> (sockfd == -1){</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: Error creando socket, devolvió &lt; 0\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    }</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    optval = 1;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    setsockopt(sockfd, SOL_SOCKET, SO_REUSEADDR, (<span class="keyword">const</span> <span class="keywordtype">void</span> *)&amp;optval , <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)); <span class="comment">//reutilizar socket sucesivas ejecuciones</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    memset(&amp;server_struct, <span class="charliteral">&#39;0&#39;</span>, <span class="keyword">sizeof</span>(server_struct)); </div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    server_struct.sin_family = AF_INET;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    server_struct.sin_port = htons(port); </div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    memset(&amp;(server_struct.sin_zero), <span class="charliteral">&#39;\0&#39;</span>, 8);</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    server_struct.sin_addr = **addr_list; </div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="comment">/*Connect*/</span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">if</span> (connect(sockfd, (<span class="keyword">struct</span> sockaddr*)&amp;server_struct, <span class="keyword">sizeof</span>(server_struct)) &lt; 0){</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: Error en connect(), devolivó &lt; 0\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    }</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <span class="comment">//Conectarse al socket</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="comment">//sockfd = clienteConexionTCP(ip_addr,port);</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <span class="keywordflow">if</span>(sockfd == -1){</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: sockfd == -1\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;Conexión establecida con host: %s y puerto: %d \n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, server, port);</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        }</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <span class="comment">//Copiar los parametros a las variables globales</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        strcpy(<a class="code" href="xchat2_8c.html#a738cdcabc13fa13e8263986fe5d0fc28">host_name</a>, he-&gt;h_name);</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    strcpy(<a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>,<a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <a class="code" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a> = sockfd;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="keywordflow">if</span>(ssl == FALSE){</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;Lanzamos el hilo que recibe mensajes\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <span class="keywordflow">if</span>((ret = pthread_create( &amp;<a class="code" href="xchat2_8c.html#ab5efd1efa144e252f4c5312ae57bea2e">recv_tid</a>, NULL, (<span class="keywordtype">void</span>*) <a class="code" href="xchat2_8c.html#a7230d43b8458797c679e7180bf1fda90">receive_messages</a>, (<span class="keywordtype">void</span>*) <span class="stringliteral">&quot;no_arg&quot;</span>)) != 0){</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: pthread_create() devolvio != 0, error = %d\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, (<span class="keywordtype">int</span>)ret);</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                <span class="comment">//logERR(&quot;pthread_detach() devolvio error&quot;);</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                }</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                <span class="keywordflow">if</span> (pthread_detach(<a class="code" href="xchat2_8c.html#ab5efd1efa144e252f4c5312ae57bea2e">recv_tid</a>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>){</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: pthread_detach() devolvio error\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                         <span class="comment">//logERR(&quot;pthread_detach() devolvio error&quot;);</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                         <span class="keywordflow">return</span> <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                }</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                <span class="comment">//sleep(5);</span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                <span class="comment">//Prueba CAP</span></div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                <span class="comment">/*</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">                retorno = enviarDatos(sockfd, &quot;CAP LS 302&quot;, strlen(&quot;CAP LS 302&quot;)+1);</span></div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment">                if(retorno &lt;= 0){</span></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment">                        g_print(RED &quot;ERROR - In IRCInterface_Connect: enviarDatos() envió %d Bytes - NICK\n&quot; RESET, retorno);</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">                        return IRCERR_NOCONNECT;</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment">                }</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">                IRCInterface_PlaneRegisterOutMessage(command);</span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">                */</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                <span class="comment">//Enviar pass si existe</span></div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                <span class="keywordflow">if</span>((password != NULL) &amp;&amp; (strlen(password) &gt; 0)){ <span class="comment">//Comprobar si hay password</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                        <span class="comment">//Enviar mensaje al servidor con la pass</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                        ret = IRCMsg_Pass (&amp;command, prefix, password);</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: IRCMsg_Pass devolvio IRCERR_NOPASSWORD: No se ha introducido una clave.\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                                <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                        }</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                        g_print(<span class="stringliteral">&quot;IRCMsg_Pass: %s&quot;</span>,command);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                        retorno = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(sockfd, command, strlen(command));</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                        <span class="keywordflow">if</span>(retorno &lt;= 0){</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: enviarDatos() envió %d Bytes - PASS\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, retorno);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                                <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                        }</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                        IRCInterface_PlaneRegisterOutMessage(command); <span class="comment">//Mandar a registro plano</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                        free(command);          </div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                }</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                <span class="comment">//Enviar mensaje con el nick</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                command = NULL;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                ret = IRCMsg_Nick (&amp;command, prefix, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, msgNick);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                </div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: IRCMsg_Nick() devolvio codigo de error\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                        <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                }</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                g_print(<span class="stringliteral">&quot;IRCMsg_Nick: %s&quot;</span>,command);</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;                retorno = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(sockfd, command, strlen(command));</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;                <span class="comment">//retorno = enviarDatos(sockfd, &quot;NICK test_\r\n\0&quot;, strlen(&quot;NICK test_\r\n\0&quot;)+1);</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;                <span class="keywordflow">if</span>(retorno &lt;= 0){</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: enviarDatos() envió %d Bytes - NICK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, retorno);</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                        <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                }</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                IRCInterface_PlaneRegisterOutMessage(command);</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                free(command);</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                </div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                <span class="comment">//mode</span></div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                <span class="comment">//Enviar mensaje con el user</span></div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                strcpy(mode,<span class="stringliteral">&quot;0&quot;</span>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                command = NULL;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                ret = IRCMsg_User (&amp;command, prefix, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a14871705f45ccdc5bb9f4549efd8e119">user</a>, mode , <a class="code" href="_g-2361-06-_p1-_server_8c.html#a980ab011cd3d327b370c042833f1dc08">realname</a>);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: IRCMsg_User() devolvio codigo de error\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                        <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                }</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                g_print(<span class="stringliteral">&quot;IRCMsg_User: %s&quot;</span>,command);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                retorno = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(sockfd, command, strlen(command));</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                <span class="comment">//retorno = enviarDatos(sockfd, &quot;USER test_ 0 * :test_\r\n\0&quot;, strlen(&quot;USER test_ 0 * :test_\r\n\0&quot;)+1);</span></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                <span class="keywordflow">if</span>(retorno &lt;= 0){</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_Connect: enviarDatos() envió %d Bytes - USER\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, retorno);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                        <span class="keywordflow">return</span> IRCERR_NOCONNECT;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                IRCInterface_PlaneRegisterOutMessage(command);</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                free(command);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                </div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        }<span class="keywordflow">else</span>{ <span class="comment">//Fin del if de ssl = false</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                <span class="keywordflow">return</span> IRCERR_NOSSL;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        }</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <span class="keywordflow">return</span> IRC_OK;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;}</div><div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a14871705f45ccdc5bb9f4549efd8e119"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a14871705f45ccdc5bb9f4549efd8e119">user</a></div><div class="ttdeci">char * user</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:22</div></div>
<div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a980ab011cd3d327b370c042833f1dc08"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a980ab011cd3d327b370c042833f1dc08">realname</a></div><div class="ttdeci">char * realname</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:25</div></div>
<div class="ttc" id="xchat2_8c_html_a7e2f32e47f3780a66e19651d8e79bced"><div class="ttname"><a href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a></div><div class="ttdeci">char nick_user[MAXDATA]</div><div class="ttdef"><b>Definition:</b> xchat2.c:23</div></div>
<div class="ttc" id="types_8h_html_aea69ffbacdcdf16c21b8c9961df84448"><div class="ttname"><a href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a></div><div class="ttdeci">#define GRN</div><div class="ttdef"><b>Definition:</b> types.h:27</div></div>
<div class="ttc" id="xchat2_8c_html_ab5efd1efa144e252f4c5312ae57bea2e"><div class="ttname"><a href="xchat2_8c.html#ab5efd1efa144e252f4c5312ae57bea2e">recv_tid</a></div><div class="ttdeci">pthread_t recv_tid</div><div class="ttdef"><b>Definition:</b> xchat2.c:19</div></div>
<div class="ttc" id="types_8h_html_ae7e715c270481406658bbd2bafa2897f"><div class="ttname"><a href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a></div><div class="ttdeci">#define MAXDATA</div><div class="ttdef"><b>Definition:</b> types.h:22</div></div>
<div class="ttc" id="xchat2_8c_html_acd63fb8dbd9439219e2db08dfc173aa0"><div class="ttname"><a href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a></div><div class="ttdeci">int sockfd_user</div><div class="ttdef"><b>Definition:</b> xchat2.c:22</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_ad2849cf781a4db22cc1b31eaaee50a4f"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#ad2849cf781a4db22cc1b31eaaee50a4f">prefix</a></div><div class="ttdeci">char * prefix</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:19</div></div>
<div class="ttc" id="conexion__tcp_8h_html_ab9468ce1338cfca5736ab407ba155f55"><div class="ttname"><a href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a></div><div class="ttdeci">int enviarDatos(int client_sock, char *message, int message_size)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:83</div></div>
<div class="ttc" id="xchat2_8c_html_a738cdcabc13fa13e8263986fe5d0fc28"><div class="ttname"><a href="xchat2_8c.html#a738cdcabc13fa13e8263986fe5d0fc28">host_name</a></div><div class="ttdeci">char host_name[128]</div><div class="ttdef"><b>Definition:</b> xchat2.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
<div class="ttc" id="xchat2_8c_html_a7230d43b8458797c679e7180bf1fda90"><div class="ttname"><a href="xchat2_8c.html#a7230d43b8458797c679e7180bf1fda90">receive_messages</a></div><div class="ttdeci">void receive_messages(void *no_arg)</div><div class="ttdoc">Funcion ejecutada por un hilo, que recibe mensajes del servidor y los procesa segun el tipo de respue...</div><div class="ttdef"><b>Definition:</b> xchat2.c:1081</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_aed072f4ce0d6e90697d4d6eb0278a2ad_cgraph.png" border="0" usemap="#xchat2_8c_aed072f4ce0d6e90697d4d6eb0278a2ad_cgraph" alt=""/></div>
<!-- MAP 12 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e67ee0cd384b524d57fda14593dce8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivateChannelKey </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;{</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivateChannelKey(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-k&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivateChannelKey: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a3e67ee0cd384b524d57fda14593dce8e_cgraph.png" border="0" usemap="#xchat2_8c_a3e67ee0cd384b524d57fda14593dce8e_cgraph" alt=""/></div>
<!-- MAP 13 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a638b1535f4ecbc9a6affb2df2a6a946e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivateExternalMessages </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;{</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivateExternalMessages(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-n&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivateExternalMessages: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a638b1535f4ecbc9a6affb2df2a6a946e_cgraph.png" border="0" usemap="#xchat2_8c_a638b1535f4ecbc9a6affb2df2a6a946e_cgraph" alt=""/></div>
<!-- MAP 14 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a9ba4e98a3729737aa63ebec54ba4e894"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivateInvite </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;{</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivateInvite(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-i&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivateInvite: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a9ba4e98a3729737aa63ebec54ba4e894_cgraph.png" border="0" usemap="#xchat2_8c_a9ba4e98a3729737aa63ebec54ba4e894_cgraph" alt=""/></div>
<!-- MAP 15 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ab760e8144b38f6c14bd809d157cee5d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivateModerated </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;{</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivateModerated(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-m&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivateModerated: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_ab760e8144b38f6c14bd809d157cee5d4_cgraph.png" border="0" usemap="#xchat2_8c_ab760e8144b38f6c14bd809d157cee5d4_cgraph" alt=""/></div>
<!-- MAP 16 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a92c8cfbe2e14e19277e1c97d11719e80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivateNicksLimit </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;{</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivateNicksLimit(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-l&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivateNicksLimit: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a92c8cfbe2e14e19277e1c97d11719e80_cgraph.png" border="0" usemap="#xchat2_8c_a92c8cfbe2e14e19277e1c97d11719e80_cgraph" alt=""/></div>
<!-- MAP 17 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a6141803691ba327f11ba763ad075d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivatePrivate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;{</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivatePrivate(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-p&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivatePrivate: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a8a6141803691ba327f11ba763ad075d4_cgraph.png" border="0" usemap="#xchat2_8c_a8a6141803691ba327f11ba763ad075d4_cgraph" alt=""/></div>
<!-- MAP 18 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a5a57541a950f8c2c40b4b44c32b28ed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivateProtectTopic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;{</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivateProtectTopic(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-t&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivateProtectTopic: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a5a57541a950f8c2c40b4b44c32b28ed9_cgraph.png" border="0" usemap="#xchat2_8c_a5a57541a950f8c2c40b4b44c32b28ed9_cgraph" alt=""/></div>
<!-- MAP 19 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a4956427664cabc7d5b2bd1589a207324"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_DeactivateSecret </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;{</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DeactivateSecret(char *channel) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, NULL, <span class="stringliteral">&quot;-s&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_DeactivateSecret: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a4956427664cabc7d5b2bd1589a207324_cgraph.png" border="0" usemap="#xchat2_8c_a4956427664cabc7d5b2bd1589a207324_cgraph" alt=""/></div>
<!-- MAP 20 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a8bf0424ef7f845be79a056e9aed56fe2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean IRCInterface_DisconnectServer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;{</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_DisconnectServer(char *server, int port) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        <a class="code" href="user__commands_8h.html#ad738a7d361fe18d7774bab370a4454a8">puquit</a>(NULL);</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;        <span class="keywordflow">return</span> TRUE;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="user__commands_8h_html_ad738a7d361fe18d7774bab370a4454a8"><div class="ttname"><a href="user__commands_8h.html#ad738a7d361fe18d7774bab370a4454a8">puquit</a></div><div class="ttdeci">int puquit(char *command)</div><div class="ttdoc">Comando de usuario QUIT En principio solo se llama con: </div><div class="ttdef"><b>Definition:</b> user_commands.c:198</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a8bf0424ef7f845be79a056e9aed56fe2_cgraph.png" border="0" usemap="#xchat2_8c_a8bf0424ef7f845be79a056e9aed56fe2_cgraph" alt=""/></div>
<!-- MAP 21 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ab431412191716f751461f94d613ffdab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean IRCInterface_ExitAudioChat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;{</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_ExitAudioChat(char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        <span class="keywordflow">return</span> TRUE;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae075029bb55e8b995f22beb0810674f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_GiveOp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;{</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_GiveOp(char *channel, char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, <span class="stringliteral">&quot;+o&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_GiveOp: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_ae075029bb55e8b995f22beb0810674f4_cgraph.png" border="0" usemap="#xchat2_8c_ae075029bb55e8b995f22beb0810674f4_cgraph" alt=""/></div>
<!-- MAP 22 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="ae9effb4bdaf4a2cdf2dd9edbeb90b430"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_GiveVoice </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;{</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_GiveVoice(char *channel, char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, <span class="stringliteral">&quot;+v&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_GiveOp: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_ae9effb4bdaf4a2cdf2dd9edbeb90b430_cgraph.png" border="0" usemap="#xchat2_8c_ae9effb4bdaf4a2cdf2dd9edbeb90b430_cgraph" alt=""/></div>
<!-- MAP 23 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a7adfea400a96160585f86179bafb055f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_KickNick </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;{</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_KickNick(char *channel, char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        <span class="keywordtype">char</span> *command=NULL;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <span class="comment">//long IRCMsg_Kick (char **command, char *prefix, char * channel, char *user, char *comment)</span></div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        ret = IRCMsg_Kick (&amp;command, NULL, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, <span class="stringliteral">&quot;Has sido kickeado del servidor&quot;</span>);</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_KickNick : Error en IRCMsg_Kick, no devolvio IRC_OK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;        }</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;        ret = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(<a class="code" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a>, command, strlen(command));</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <span class="keywordflow">if</span>(ret == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_KickNick: enviarDatos devolvio ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;        }</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        IRCInterface_PlaneRegisterOutMessage(command);</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        free(command);  </div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="xchat2_8c_html_acd63fb8dbd9439219e2db08dfc173aa0"><div class="ttname"><a href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a></div><div class="ttdeci">int sockfd_user</div><div class="ttdef"><b>Definition:</b> xchat2.c:22</div></div>
<div class="ttc" id="conexion__tcp_8h_html_ab9468ce1338cfca5736ab407ba155f55"><div class="ttname"><a href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a></div><div class="ttdeci">int enviarDatos(int client_sock, char *message, int message_size)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:83</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a7adfea400a96160585f86179bafb055f_cgraph.png" border="0" usemap="#xchat2_8c_a7adfea400a96160585f86179bafb055f_cgraph" alt=""/></div>
<!-- MAP 24 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a214e10b19c8be028fb35d2a7abf3f798"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_NewCommandText </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;{</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\n[callback] IRCInterface_NewCommandText(char *command) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="keywordtype">int</span> num_comando = -1, ret;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <span class="keywordtype">char</span> *comando = NULL;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;        <span class="keywordtype">char</span> *<a class="code" href="_g-2361-06-_p1-_server_8c.html#ad2849cf781a4db22cc1b31eaaee50a4f">prefix</a> = NULL;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        <span class="comment">//pthread_t tid;</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        <span class="comment">//IRCInterface_PlaneRegisterInMessage(command);</span></div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <span class="comment">//IRCInterface_WriteSystem(nick_user, command);</span></div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <span class="keywordflow">if</span>(command[0] != <span class="charliteral">&#39;/&#39;</span>){<span class="comment">//mensaje a grupo o nick directamente</span></div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                <a class="code" href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a> = IRCInterface_ActiveChannelName();</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;                g_print(<span class="stringliteral">&quot;Active_channel: %s\n&quot;</span>, <a class="code" href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a>);</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                <span class="comment">//   long IRCMsg_Privmsg (char **command, char *prefix, char * msgtarget, char *msg)</span></div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                ret = IRCMsg_Privmsg (&amp;comando, prefix, <a class="code" href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a>, command);</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                <span class="keywordflow">if</span>(ret == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_NewCommandText: IRCMsg_Privmsg devolvio error\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;                }</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                g_print(<span class="stringliteral">&quot;\t Mensaje a enviar IRCMsg_Privmsg: %s \n&quot;</span>,comando);</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                ret = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(<a class="code" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a>,comando, strlen(comando));</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;                <span class="keywordflow">if</span>(ret &lt; 0){</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_NewCommandText: enviarDatos() devolvio error (ver secuencia en .log)\n\t\tEl cliente se cerrará.\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;                        exit(1);</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                }</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                <span class="keywordflow">if</span>(ret == 0){ <span class="comment">//timeout </span></div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_NewCommandText: enviarDatos() mandó 0 Bytes(ver secuencia en .log)\n\t\t(Timeout de conexión probablemente)\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;                        exit(1);</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                }</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                IRCInterface_PlaneRegisterOutMessage(comando);</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                <span class="comment">//No recibimos nada en este comando, los mensajes de otros usuarios los recibimos por otro hilo</span></div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;                IRCInterface_WriteChannel(<a class="code" href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a>, <a class="code" href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a>, command);</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        }</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        num_comando = IRCUser_CommandQuery (command);   </div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="comment">//g_print(BLU &quot;\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;num_comando: %d \n&quot; RESET,num_comando);</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="xchat2_8h.html#afe699fe3416e9bf2d3553e35d7a1dea2">p_array_funciones</a>[num_comando](command) == -1){</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_NewCommandText: Error en p_array_funciones num: %d \n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>,num_comando);</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;        }</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="xchat2_8c_html_a7e2f32e47f3780a66e19651d8e79bced"><div class="ttname"><a href="xchat2_8c.html#a7e2f32e47f3780a66e19651d8e79bced">nick_user</a></div><div class="ttdeci">char nick_user[MAXDATA]</div><div class="ttdef"><b>Definition:</b> xchat2.c:23</div></div>
<div class="ttc" id="xchat2_8c_html_acd63fb8dbd9439219e2db08dfc173aa0"><div class="ttname"><a href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a></div><div class="ttdeci">int sockfd_user</div><div class="ttdef"><b>Definition:</b> xchat2.c:22</div></div>
<div class="ttc" id="xchat2_8c_html_a568595cf14231c912fd7ab15a324bd16"><div class="ttname"><a href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a></div><div class="ttdeci">char * active_channel</div><div class="ttdef"><b>Definition:</b> xchat2.c:25</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_ad2849cf781a4db22cc1b31eaaee50a4f"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#ad2849cf781a4db22cc1b31eaaee50a4f">prefix</a></div><div class="ttdeci">char * prefix</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:19</div></div>
<div class="ttc" id="conexion__tcp_8h_html_ab9468ce1338cfca5736ab407ba155f55"><div class="ttname"><a href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a></div><div class="ttdeci">int enviarDatos(int client_sock, char *message, int message_size)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:83</div></div>
<div class="ttc" id="xchat2_8h_html_afe699fe3416e9bf2d3553e35d7a1dea2"><div class="ttname"><a href="xchat2_8h.html#afe699fe3416e9bf2d3553e35d7a1dea2">p_array_funciones</a></div><div class="ttdeci">p_funcion p_array_funciones[57]</div><div class="ttdef"><b>Definition:</b> user_commands.c:25</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a214e10b19c8be028fb35d2a7abf3f798_cgraph.png" border="0" usemap="#xchat2_8c_a214e10b19c8be028fb35d2a7abf3f798_cgraph" alt=""/></div>
<!-- MAP 25 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a080cf34ff506481737f6d08af60ca92b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_NewTopicEnter </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>topicdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;{</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_NewTopicEnter(char *topicdata) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="keywordtype">int</span> ret = -1;</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        <span class="keywordtype">char</span> *command=NULL;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        <span class="comment">//long IRCMsg_Topic (char **command, char *prefix, char * channel, char *topic)</span></div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        <a class="code" href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a> = IRCInterface_ActiveChannelName();</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        ret = IRCMsg_Topic (&amp;command, NULL, <a class="code" href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a>, topicdata);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="keywordflow">if</span>(ret != IRC_OK){</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_NewTopicEnter: IRCMsg_Topic no devolvio IRC_OK\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;        }</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        ret = <a class="code" href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a>(<a class="code" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a>, command, strlen(command));</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        <span class="keywordflow">if</span>(ret == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_NewTopicEnter: enviarDatos devolvio ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        }</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        IRCInterface_PlaneRegisterOutMessage(command);</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        free(command);  </div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="xchat2_8c_html_acd63fb8dbd9439219e2db08dfc173aa0"><div class="ttname"><a href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a></div><div class="ttdeci">int sockfd_user</div><div class="ttdef"><b>Definition:</b> xchat2.c:22</div></div>
<div class="ttc" id="xchat2_8c_html_a568595cf14231c912fd7ab15a324bd16"><div class="ttname"><a href="xchat2_8c.html#a568595cf14231c912fd7ab15a324bd16">active_channel</a></div><div class="ttdeci">char * active_channel</div><div class="ttdef"><b>Definition:</b> xchat2.c:25</div></div>
<div class="ttc" id="conexion__tcp_8h_html_ab9468ce1338cfca5736ab407ba155f55"><div class="ttname"><a href="conexion__tcp_8h.html#ab9468ce1338cfca5736ab407ba155f55">enviarDatos</a></div><div class="ttdeci">int enviarDatos(int client_sock, char *message, int message_size)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:83</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a080cf34ff506481737f6d08af60ca92b_cgraph.png" border="0" usemap="#xchat2_8c_a080cf34ff506481737f6d08af60ca92b_cgraph" alt=""/></div>
<!-- MAP 26 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a100f1c87bb3b399a7284e62dd2e6172a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean IRCInterface_SendFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;{</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_SendFile(char *filename, char *nick, char *data, long unsigned int length) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <span class="keywordflow">return</span> TRUE;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5dc7a44587e609b416a783cd420a12e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean IRCInterface_StartAudioChat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;{</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_StartAudioChat(char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        <span class="keywordflow">return</span> TRUE;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a754a3d3dd311194637c07cc701e7d507"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean IRCInterface_StopAudioChat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;{</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_StopAudioChat(char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        <span class="keywordflow">return</span> TRUE;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e2a1ea75e59306142030a91a054b7e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_TakeOp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;{</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_TakeOp(char *channel, char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, <span class="stringliteral">&quot;-o&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_TakeOp: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a4e2a1ea75e59306142030a91a054b7e6_cgraph.png" border="0" usemap="#xchat2_8c_a4e2a1ea75e59306142030a91a054b7e6_cgraph" alt=""/></div>
<!-- MAP 27 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a2ff2e10ed1cb1a399293b6f76ac1e5ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRCInterface_TakeVoice </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>nick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;{</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nIRCInterface_TakeVoice(char *channel, char *nick) call\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a>(<a class="code" href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a>, <a class="code" href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a>, <span class="stringliteral">&quot;-v&quot;</span>) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>)</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In IRCInterface_TakeVoice: Error en changeMode, devolvió ERR\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);    </div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="aux__functions_8h_html_a06340d30a60b297a60b17841767fad85"><div class="ttname"><a href="aux__functions_8h.html#a06340d30a60b297a60b17841767fad85">changeMode</a></div><div class="ttdeci">int changeMode(char *channel, char *nick, char *mode)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:310</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a842ca2f026578e5c479c095ff3335969"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a842ca2f026578e5c479c095ff3335969">channel</a></div><div class="ttdeci">char * channel</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:28</div></div>
<div class="ttc" id="_g-2361-06-_p1-_server_8c_html_a89f27568c92a418413e6b37b41f07e21"><div class="ttname"><a href="_g-2361-06-_p1-_server_8c.html#a89f27568c92a418413e6b37b41f07e21">nick</a></div><div class="ttdeci">char * nick</div><div class="ttdef"><b>Definition:</b> G-2361-06-P1-Server.c:20</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a2ff2e10ed1cb1a399293b6f76ac1e5ae_cgraph.png" border="0" usemap="#xchat2_8c_a2ff2e10ed1cb1a399293b6f76ac1e5ae_cgraph" alt=""/></div>
<!-- MAP 28 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MMMMMMMMMM MMMMM AAAAAAA IIIIIII NNNNNNNNNN NNNNNN MMMMMMMMMM MMMMM AAAAAAAA IIIII NNNNNNNNNN NNNN MMMMM MMMM MM MM AAAAA AA III NNNNN NNNN NN MMMMM MMMM MM MM AAAAA AA III NNNNN NNNN NN MMMMM MMMM MM MM AAAAA AA III NNNNN NNNN NN MMMMM MMMM MM MM AAAAA AA III NNNNN NNNN NN MMMMM MMMM MM MM AAAAA AA III NNNNN NNNN NN MMMMM MMMM MM MM AAAAAAAAAAAAAA III NNNNN NNNN NN MMMMM MMMMM MM AAAAA AA III NNNNN NNNN NN MMMMM MMM MM AAAAA AA III NNNNN NNNN NN MMMMM MM AAAAA AA III NNNNN NNNN NN MMMMM MM AAAAA AA III NNNNN NNNN NN MMMMMMM MMMM AAAAAA AAAA IIIII NNNNNN NNNNNNN MMMMMMMMM MMMMMM AAAAAAAA AAAAAA IIIIIII NNNNNNN NNNNNNN </p>
<div class="fragment"><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;{</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        FILE* log_fp = NULL;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        <span class="comment">//init de las funciones de log</span></div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        log_fp = <a class="code" href="logger_8h.html#a1fa2e9d39664def63d53e3d576dc923f">initLog</a>();</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        <span class="keywordflow">if</span> (log_fp == NULL){</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;                perror(<span class="stringliteral">&quot;error en initLog()&quot;</span>);</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;                <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        }</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <span class="keywordflow">if</span> (pthread_mutex_init(&amp;<a class="code" href="xchat2_8c.html#a53497b00bd1ff0270ca7a108d5794dbc">loglock</a>, NULL) != <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>){</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;                perror(<span class="stringliteral">&quot;\n mutex init ha devuelto error\n&quot;</span>);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;                <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        }</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;        <span class="comment">/* La función IRCInterface_Run debe ser llamada al final      */</span></div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <span class="comment">/* del main y es la que activa el interfaz gráfico quedándose */</span></div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        <span class="comment">/* en esta función hasta que se pulsa alguna salida del       */</span></div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <span class="comment">/* interfaz gráfico.                                          */</span></div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        IRCInterface_Run(argc, argv);</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        pthread_mutex_destroy(&amp;<a class="code" href="xchat2_8c.html#a53497b00bd1ff0270ca7a108d5794dbc">loglock</a>);</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;}</div><div class="ttc" id="xchat2_8c_html_a53497b00bd1ff0270ca7a108d5794dbc"><div class="ttname"><a href="xchat2_8c.html#a53497b00bd1ff0270ca7a108d5794dbc">loglock</a></div><div class="ttdeci">pthread_mutex_t loglock</div><div class="ttdoc">Declaracion del Mutex para el descriptor de fichero del log. Siempre tiene que ser definida en el sou...</div><div class="ttdef"><b>Definition:</b> xchat2.c:13</div></div>
<div class="ttc" id="logger_8h_html_a1fa2e9d39664def63d53e3d576dc923f"><div class="ttname"><a href="logger_8h.html#a1fa2e9d39664def63d53e3d576dc923f">initLog</a></div><div class="ttdeci">FILE * initLog()</div><div class="ttdef"><b>Definition:</b> logger.c:37</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#xchat2_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<!-- MAP 29 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a7230d43b8458797c679e7180bf1fda90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void receive_messages </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>no_arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcion ejecutada por un hilo, que recibe mensajes del servidor y los procesa segun el tipo de respuesta. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">no_arg</td><td>estructura de parametros (vacia) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OK si todo es correcto, ERR si se produce un error </dd></dl>
<div class="fragment"><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                                   {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="keywordtype">char</span> message[<a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>];</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        g_print(<a class="code" href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a> <span class="stringliteral">&quot;Hilo Preparado para recibir mensajes\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        <span class="keywordtype">int</span> oldtype;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="comment">/*No es necesario el pthread_cancel asíncrono aparentemente</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment">        * +INFO: https://www.securecoding.cert.org/confluence/display/c/POS44-C.+Do+not+use+signals+to+terminate+threads</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">        *                https://www.securecoding.cert.org/confluence/display/c/POS47-C.+Do+not+use+threads+that+can+be+canceled+asynchronously</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="comment">//pthread_setcanceltype(PTHREAD_CANCEL_ASYNCHRONOUS, &amp;oldtype);</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        </div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">while</span>(1){</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                <span class="comment">//printf(BLU &quot;\nwhile en receive_messages\n&quot; RESET);</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                <span class="comment">//sem_wait(&amp;recepcionTCP);</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                memset(message, 0, <span class="keyword">sizeof</span>(message));</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                ret = <a class="code" href="conexion__tcp_8h.html#a2ec2b47883bdb05804bec657bfc42516">recvDatos</a>(<a class="code" href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a>, message, <a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>, <a class="code" href="xchat2_8c.html#a738cdcabc13fa13e8263986fe5d0fc28">host_name</a>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                <span class="comment">//sem_post(&amp;recepcionTCP);</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                <span class="keywordflow">if</span>(ret == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In receive_messages: recvDatos() devolvio error (ver .log)\n\t\tEl cliente se cerrará.\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                        exit(1);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                }</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                <span class="keywordflow">if</span>(ret == 0){ <span class="comment">//timeout seguramente</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In receive_messages: recvDatos() leyó 0 Bytes(ver .log)\n\t\t(Timeout)El cliente se cerrará.\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                        exit(1);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                <span class="keywordflow">if</span>(ret == <a class="code" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>)</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                        <a class="code" href="xchat2_8c.html#a63f7dc08db4a2318cb526eee804709b3">unpipe</a>(message, 1);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                        <a class="code" href="xchat2_8c.html#a63f7dc08db4a2318cb526eee804709b3">unpipe</a>(message, 0);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="conexion__tcp_8h_html_a2ec2b47883bdb05804bec657bfc42516"><div class="ttname"><a href="conexion__tcp_8h.html#a2ec2b47883bdb05804bec657bfc42516">recvDatos</a></div><div class="ttdeci">int recvDatos(int client_sock, char *client_message, int cm_size, char *hostaddrp)</div><div class="ttdef"><b>Definition:</b> conexion_tcp.c:54</div></div>
<div class="ttc" id="types_8h_html_aea69ffbacdcdf16c21b8c9961df84448"><div class="ttname"><a href="types_8h.html#aea69ffbacdcdf16c21b8c9961df84448">GRN</a></div><div class="ttdeci">#define GRN</div><div class="ttdef"><b>Definition:</b> types.h:27</div></div>
<div class="ttc" id="xchat2_8c_html_a63f7dc08db4a2318cb526eee804709b3"><div class="ttname"><a href="xchat2_8c.html#a63f7dc08db4a2318cb526eee804709b3">unpipe</a></div><div class="ttdeci">void unpipe(char *message, int MAXDATA_flag)</div><div class="ttdoc">Funcion para dividir en comandos la cadena &quot;message&quot;. </div><div class="ttdef"><b>Definition:</b> xchat2.c:969</div></div>
<div class="ttc" id="types_8h_html_ae7e715c270481406658bbd2bafa2897f"><div class="ttname"><a href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a></div><div class="ttdeci">#define MAXDATA</div><div class="ttdef"><b>Definition:</b> types.h:22</div></div>
<div class="ttc" id="xchat2_8c_html_acd63fb8dbd9439219e2db08dfc173aa0"><div class="ttname"><a href="xchat2_8c.html#acd63fb8dbd9439219e2db08dfc173aa0">sockfd_user</a></div><div class="ttdeci">int sockfd_user</div><div class="ttdef"><b>Definition:</b> xchat2.c:22</div></div>
<div class="ttc" id="xchat2_8c_html_a738cdcabc13fa13e8263986fe5d0fc28"><div class="ttname"><a href="xchat2_8c.html#a738cdcabc13fa13e8263986fe5d0fc28">host_name</a></div><div class="ttdeci">char host_name[128]</div><div class="ttdef"><b>Definition:</b> xchat2.c:28</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a7230d43b8458797c679e7180bf1fda90_cgraph.png" border="0" usemap="#xchat2_8c_a7230d43b8458797c679e7180bf1fda90_cgraph" alt=""/></div>
<!-- MAP 30 -->
</div>
</p>

</div>
</div>
<a class="anchor" id="a63f7dc08db4a2318cb526eee804709b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unpipe </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MAXDATA_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Funcion para dividir en comandos la cadena "message". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>cadena recibida, puede incluir mas de un comando </td></tr>
    <tr><td class="paramname">MAXDATA_flag</td><td>flag que marca que se ha leído el maximo del buffer y han podido cortarse comandos </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<div class="fragment"><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                                            {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordtype">char</span> *q = message, *command;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <span class="keywordtype">char</span> *glued_command = NULL;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keywordtype">int</span> i = 0, test = 0;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="keywordflow">while</span> (q != NULL){</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                q = IRC_UnPipelineCommands(q, &amp;command);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                test = <a class="code" href="aux__functions_8h.html#a8d3c58618c3bb95d81a542251062d19e">testIRC_CommandQuery</a>(command);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                <span class="keywordflow">if</span>(MAXDATA_flag == 1){  <span class="comment">//caso 1.)riesgo: se ha llamado a unpipe() con un bloque de tam MAXDATA</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                        <span class="keywordflow">if</span>((i == 0) &amp;&amp; (<a class="code" href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a> == 1)){       <span class="comment">//caso 2.1)primera iter unpipe, no MAXDATA PERO &#39;check...&#39; activado</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                <span class="keywordflow">if</span>(test == <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a> &amp;&amp; <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){                     <span class="comment">//caso 2.1.1)además no da error</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                                        <a class="code" href="xchat2_8c.html#a98484e1bbb136d37503aa6c604eff6a2">glueAndQuery</a>(command, <a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                                }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(test == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a> &amp;&amp; <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> == <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>){       <span class="comment">//caso 2.1.2)o bien es la segunda mitad del comando o bien</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                                                                                                                        <span class="comment">//           da la casualidad de que es un comando mal formado independiente</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                                        <a class="code" href="xchat2_8c.html#a98484e1bbb136d37503aa6c604eff6a2">glueAndQuery</a>(command, <a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                                }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(test == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a> &amp;&amp; <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){      <span class="comment">//caso 2.1.3)ambos test petan. Concatenar y rezar</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                                        glued_command =  (<span class="keywordtype">char</span>*) malloc((2 + strlen(command) + strlen(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>)) * <span class="keyword">sizeof</span>(char));</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                        strcpy(glued_command, <a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                        strcat(glued_command, command);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nglued_command = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, glued_command);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a8d3c58618c3bb95d81a542251062d19e">testIRC_CommandQuery</a>(glued_command) == <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>){</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                                                <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(glued_command);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                                free(glued_command);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                                                <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                                                <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(command);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                                        }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                        free(command);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                }<span class="keywordflow">else</span>{                                                                          <span class="comment">//caso 2.1.4)ambos comandos están bien formados</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                                        <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(command);</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                        free(command);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                                }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                <span class="comment">//resetear flags:</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                <a class="code" href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a> = 0;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                                strcpy(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>, <span class="stringliteral">&quot;0&quot;</span>);</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(q == NULL){ <span class="comment">//q es &#39;resto&#39;, comprobar que sea el último comando parseado del bloque</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                                <span class="keywordflow">if</span> (test == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){                                                       <span class="comment">//caso 1.1)error en test con MAXDATA_f</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                                        g_print(<a class="code" href="types_8h.html#a96fac03c4ab3363f06a0328e0e53a40c">YEL</a> <span class="stringliteral">&quot;\nWARN - In unpipe: testIRC_CommandQuery(command) devolvio ERR con MAXDATA_flag activada\n\tSe almacena el trozo de comando=%s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, command);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                                        <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> = <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                                        strcpy(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>, command);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                                        free(command);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                                        <a class="code" href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a> = 1;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                                        <span class="keywordflow">break</span>; <span class="comment">//(!) en principio no tiene sentido seguir iterando, es el último mensaje (trozo) del bloque</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                                }<span class="keywordflow">else</span>{                                                                          <span class="comment">//caso 1.2)no error en test con MAXDATA_f, 2 posibilidades:</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                                                                                                                        <span class="comment">//a)justo ha cogido el comando entero, b)ha cogido parte del comando y lo reconoce como valido</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                                        g_print(<a class="code" href="types_8h.html#a96fac03c4ab3363f06a0328e0e53a40c">YEL</a> <span class="stringliteral">&quot;\nWARN - In unpipe: testIRC_CommandQuery(command) devolvio OK con MAXDATA_flag activada\n\tSe almacena el trozo de comando=%s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, command);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                                        <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> = <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                                        strcpy(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>, command);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                                        free(command);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                                }</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                                <a class="code" href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a> = 1;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                        }<span class="keywordflow">else</span>{          <span class="comment">//si no es el último comando parseado, command_query normal</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                                <span class="keywordflow">if</span>(<a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(command) == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In unpipe: command_query() devolvio ERR (MAXDATA_flag == 1 pero no es el último comando)\n\tcommand = %s&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, command);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                                        free(command);</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                                }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                        }</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                }<span class="keywordflow">else</span>{                                  <span class="comment">//caso 2)no se ha llamado a unpipe() con un bloque de tam MAXDATA</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                        <span class="keywordflow">if</span>((i == 0) &amp;&amp; (<a class="code" href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a> == 1)){       <span class="comment">//caso 2.1)primera iter unpipe, no MAXDATA PERO &#39;check...&#39; activado</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                                <span class="keywordflow">if</span>(test == <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a> &amp;&amp; <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){                     <span class="comment">//caso 2.1.1)además no da error</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                                        <a class="code" href="xchat2_8c.html#a98484e1bbb136d37503aa6c604eff6a2">glueAndQuery</a>(command, <a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                                }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(test == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a> &amp;&amp; <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> == <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>){       <span class="comment">//caso 2.1.2)o bien es la segunda mitad del comando o bien</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                                                                                                                        <span class="comment">//           da la casualidad de que es un comando mal formado independiente</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                                        <a class="code" href="xchat2_8c.html#a98484e1bbb136d37503aa6c604eff6a2">glueAndQuery</a>(command, <a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                                }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(test == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a> &amp;&amp; <a class="code" href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a> == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){      <span class="comment">//caso 2.1.3)ambos test petan. No se puede concatenar</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                                        glued_command =  (<span class="keywordtype">char</span>*) malloc((2 + strlen(command) + strlen(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>)) * <span class="keyword">sizeof</span>(char));</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                                        strcpy(glued_command, <a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                        strcat(glued_command, command);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                                        g_print(<a class="code" href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a> <span class="stringliteral">&quot;\nglued_command = %s\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, glued_command);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                                        <span class="keywordflow">if</span> (<a class="code" href="aux__functions_8h.html#a8d3c58618c3bb95d81a542251062d19e">testIRC_CommandQuery</a>(glued_command) == <a class="code" href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a>){</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                                                <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(glued_command);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                                                free(glued_command);</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                                        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                                                <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>);</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                                                <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(command);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                                        }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                        free(command);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                                }<span class="keywordflow">else</span>{                                                                          <span class="comment">//caso 2.1.4)ambos comandos están bien formados</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                                        <a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(command);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                                        free(command);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                                }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                                <span class="comment">//resetear flags:</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                <a class="code" href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a> = 0;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                                strcpy(<a class="code" href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a>, <span class="stringliteral">&quot;0&quot;</span>);</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                        }<span class="keywordflow">else</span>{                                                                          <span class="comment">//caso 2.2)no MAXDATA, no i=0: command_query normal</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                                <span class="keywordflow">if</span>(<a class="code" href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a>(command) == <a class="code" href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a>){</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                                        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In unpipe: command_query() devolvio ERR (i != 0, check_... False, MAXDATA_flag False)\n\tcommand = %s&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>, command);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                        free(command);</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                                }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                        }</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                i++;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span>(command == NULL){</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        g_print(<a class="code" href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;ERROR - In unpipe: Se ha solicitado buscar un comando en una cadena vacia\n\n&quot;</span> <a class="code" href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }   </div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;}</div><div class="ttc" id="types_8h_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="types_8h.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdef"><b>Definition:</b> types.h:33</div></div>
<div class="ttc" id="xchat2_8c_html_a98484e1bbb136d37503aa6c604eff6a2"><div class="ttname"><a href="xchat2_8c.html#a98484e1bbb136d37503aa6c604eff6a2">glueAndQuery</a></div><div class="ttdeci">void glueAndQuery(char *command, char *last_command)</div><div class="ttdef"><b>Definition:</b> xchat2.c:950</div></div>
<div class="ttc" id="types_8h_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="types_8h.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdef"><b>Definition:</b> types.h:26</div></div>
<div class="ttc" id="types_8h_html_add9307de87f38e77d336751e305886f6"><div class="ttname"><a href="types_8h.html#add9307de87f38e77d336751e305886f6">BLU</a></div><div class="ttdeci">#define BLU</div><div class="ttdef"><b>Definition:</b> types.h:29</div></div>
<div class="ttc" id="xchat2_8c_html_a41f93f364aea303a0c93177289733f92"><div class="ttname"><a href="xchat2_8c.html#a41f93f364aea303a0c93177289733f92">command_query</a></div><div class="ttdeci">int command_query(char *message)</div><div class="ttdoc">Parsea los mensajes y respuestas que recibe del servidor. </div><div class="ttdef"><b>Definition:</b> xchat2.c:40</div></div>
<div class="ttc" id="xchat2_8c_html_ad1d1f3c86702bf2ea990065ad3293d10"><div class="ttname"><a href="xchat2_8c.html#ad1d1f3c86702bf2ea990065ad3293d10">check_next_unpipe</a></div><div class="ttdeci">int check_next_unpipe</div><div class="ttdef"><b>Definition:</b> xchat2.c:32</div></div>
<div class="ttc" id="types_8h_html_a96fac03c4ab3363f06a0328e0e53a40c"><div class="ttname"><a href="types_8h.html#a96fac03c4ab3363f06a0328e0e53a40c">YEL</a></div><div class="ttdeci">#define YEL</div><div class="ttdef"><b>Definition:</b> types.h:28</div></div>
<div class="ttc" id="xchat2_8c_html_a7872bff8c54fa63dccefb6916f983928"><div class="ttname"><a href="xchat2_8c.html#a7872bff8c54fa63dccefb6916f983928">last_test</a></div><div class="ttdeci">int last_test</div><div class="ttdef"><b>Definition:</b> xchat2.c:33</div></div>
<div class="ttc" id="xchat2_8c_html_a4e304440b657a8d3265793203cb12393"><div class="ttname"><a href="xchat2_8c.html#a4e304440b657a8d3265793203cb12393">last_command</a></div><div class="ttdeci">char last_command[256]</div><div class="ttdef"><b>Definition:</b> xchat2.c:31</div></div>
<div class="ttc" id="aux__functions_8h_html_a8d3c58618c3bb95d81a542251062d19e"><div class="ttname"><a href="aux__functions_8h.html#a8d3c58618c3bb95d81a542251062d19e">testIRC_CommandQuery</a></div><div class="ttdeci">int testIRC_CommandQuery(char *message)</div><div class="ttdef"><b>Definition:</b> aux_functions.c:299</div></div>
<div class="ttc" id="daemon_8h_html_aba51915c87d64af47fb1cc59348961c9"><div class="ttname"><a href="daemon_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></div><div class="ttdeci">#define OK</div><div class="ttdef"><b>Definition:</b> daemon.h:18</div></div>
<div class="ttc" id="types_8h_html_a735563036dced0b7d6cc98f97ea4978b"><div class="ttname"><a href="types_8h.html#a735563036dced0b7d6cc98f97ea4978b">ERR</a></div><div class="ttdeci">#define ERR</div><div class="ttdef"><b>Definition:</b> types.h:19</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="xchat2_8c_a63f7dc08db4a2318cb526eee804709b3_cgraph.png" border="0" usemap="#xchat2_8c_a63f7dc08db4a2318cb526eee804709b3_cgraph" alt=""/></div>
<!-- MAP 31 -->
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a568595cf14231c912fd7ab15a324bd16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* active_channel = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad1d1f3c86702bf2ea990065ad3293d10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_next_unpipe = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a738cdcabc13fa13e8263986fe5d0fc28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char host_name[128]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af203df082d5c6dcaa0c88b07cf86466d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* hostname</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4e304440b657a8d3265793203cb12393"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char last_command[256] = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7872bff8c54fa63dccefb6916f983928"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int last_test = <a class="el" href="types_8h.html#aba51915c87d64af47fb1cc59348961c9">OK</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a53497b00bd1ff0270ca7a108d5794dbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t loglock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declaracion del Mutex para el descriptor de fichero del log. Siempre tiene que ser definida en el source princpal. </p>
<p>Declaracion del Mutex para el descriptor de fichero del log. Siempre tiene que ser definida en el source princpal. </p>

</div>
</div>
<a class="anchor" id="a7e2f32e47f3780a66e19651d8e79bced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char nick_user[<a class="el" href="types_8h.html#ae7e715c270481406658bbd2bafa2897f">MAXDATA</a>] = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab5efd1efa144e252f4c5312ae57bea2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t recv_tid</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Globales útiles sobre la conexión del cliente con el servidor </p>

</div>
</div>
<a class="anchor" id="a808d33eb5e54db312802ea4b22189ef3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t sendf_tid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acd63fb8dbd9439219e2db08dfc173aa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sockfd_user = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a98d1a6f1c3b6a02b439ca0b9e8434420"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* stream</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 8 2017 05:08:25 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
